---
title: 'Blog Sbloggel'
self-contained: true
toc: true
execute: 
  echo: false
  cache: true
---

```{r}
#| label: init
#| cache: false
#| include: false
library('tidyverse')
library('usethis')

set.seed(1)
```

```{r}
#| label: new_post
#| execute: false
library('fs')
ll <- readLines('_additional/sample_post.qmd')
post_date <- format(Sys.Date(), "%Y-%m-%d")
post_title <- 'Minimal traffic jam model'
post_dir <- gsub(" ", "-", tolower(paste0('posts/', post_date, '-', post_title)))

ll[2] <- paste0('title: ', post_title)
ll[4] <- paste0('date: ', post_date)

dir_create(post_dir)

writeLines(ll, paste0(post_dir, '/index.qmd'))

```

