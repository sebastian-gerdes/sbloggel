<?xml version="1.0" encoding="UTF-8"?>
<rss  xmlns:atom="http://www.w3.org/2005/Atom" 
      xmlns:media="http://search.yahoo.com/mrss/" 
      xmlns:content="http://purl.org/rss/1.0/modules/content/" 
      xmlns:dc="http://purl.org/dc/elements/1.1/" 
      version="2.0">
<channel>
<title>Seb&#39;s blog</title>
<link>https://sbloggel.netlify.app/index.html</link>
<atom:link href="https://sbloggel.netlify.app/index.xml" rel="self" type="application/rss+xml"/>
<description>Seb&#39;s private blog about statistics and other topics</description>
<generator>quarto-1.3.433</generator>
<lastBuildDate>Wed, 02 Aug 2023 22:00:00 GMT</lastBuildDate>
<item>
  <title>Reducing image file size with ImageMagick</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-08-03-reducing-image-file-size-with-imagemagick/2023-08-03-reducing-image-file-size-with-imagemagick.html</link>
  <description><![CDATA[ 



<ul>
<li><a href="https://stackoverflow.com/questions/7261855/recommendation-for-compressing-jpg-files-with-imagemagick">stackoverflow post</a></li>
</ul>
<p><img src="https://sbloggel.netlify.app/posts/2023-08-03-reducing-image-file-size-with-imagemagick/koga_original.jpg" class="img-fluid" style="width:32.0%" data-fig-align="center" alt="Koga Original"> <img src="https://sbloggel.netlify.app/posts/2023-08-03-reducing-image-file-size-with-imagemagick/koga_signal.jpeg" class="img-fluid" style="width:32.0%" data-fig-align="center" alt="Koga Signal version"> <img src="https://sbloggel.netlify.app/posts/2023-08-03-reducing-image-file-size-with-imagemagick/koga_edited.jpg" class="img-fluid" style="width:32.0%" data-fig-align="center" alt="Koga ImageMagick"></p>
<p><img src="https://sbloggel.netlify.app/posts/2023-08-03-reducing-image-file-size-with-imagemagick/koga_original.jpg" class="img-fluid" style="width:99.0%" data-fig-align="center" alt="Koga Original"> <img src="https://sbloggel.netlify.app/posts/2023-08-03-reducing-image-file-size-with-imagemagick/koga_signal.jpeg" class="img-fluid" style="width:99.0%" data-fig-align="center" alt="Koga Signal version"> <img src="https://sbloggel.netlify.app/posts/2023-08-03-reducing-image-file-size-with-imagemagick/koga_edited.jpg" class="img-fluid" style="width:99.0%" data-fig-align="center" alt="Koga ImageMagick"></p>
<section id="currently-best-version" class="level2">
<h2 class="anchored" data-anchor-id="currently-best-version">Currently best version</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">system</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'convert koga_original.jpg -quality 50 -resize 2048 low_quality_3.jpg'</span>)</span></code></pre></div>
</div>


</section>

 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-08-03-reducing-image-file-size-with-imagemagick/2023-08-03-reducing-image-file-size-with-imagemagick.html</guid>
  <pubDate>Wed, 02 Aug 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Approximating Pi</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-23-approximating-pi/2023-07-23-approximating-pi.html</link>
  <description><![CDATA[ 



<p>This is a really pointless post about approximating <img src="https://latex.codecogs.com/png.latex?%5Cpi">, inspired by <a href="https://www.r-bloggers.com/2023/07/happy-pi-approximation-day/">this</a> post.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1">current_min_error <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abs</span>(pi <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">22</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>)</span>
<span id="cb1-2">current_best_numerator <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">22</span></span>
<span id="cb1-3">current_best_denominator <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span></span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span>(denominator <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1e7</span>) {</span>
<span id="cb1-6">  numerator <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">round</span>(denominator <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> pi)</span>
<span id="cb1-7">  pi_approx <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> numerator <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> denominator</span>
<span id="cb1-8">  pi_error <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">abs</span>(pi <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> pi_approx)</span>
<span id="cb1-9">  <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(pi_error <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> current_min_error) {</span>
<span id="cb1-10">    current_min_error <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> pi_error</span>
<span id="cb1-11">    current_best_numerator <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> numerator</span>
<span id="cb1-12">    current_best_denominator <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> denominator</span>
<span id="cb1-13">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">cat</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'numerator:'</span>, numerator, </span>
<span id="cb1-14">                  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">', denominator:'</span>, denominator, </span>
<span id="cb1-15">                  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">', pi_approx: '</span>, numerator <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span> denominator, </span>
<span id="cb1-16">                  <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">', absolute error'</span>, pi_error, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">\n</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'</span>)))</span>
<span id="cb1-17">  }</span>
<span id="cb1-18">}</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>numerator: 179 , denominator: 57 , pi_approx:  3.14035087719298 , absolute error 0.00124177639681067 
numerator: 201 , denominator: 64 , pi_approx:  3.140625 , absolute error 0.000967653589793116 
numerator: 223 , denominator: 71 , pi_approx:  3.14084507042254 , absolute error 0.000747583167258092 
numerator: 245 , denominator: 78 , pi_approx:  3.14102564102564 , absolute error 0.000567012564152147 
numerator: 267 , denominator: 85 , pi_approx:  3.14117647058824 , absolute error 0.000416183001557879 
numerator: 289 , denominator: 92 , pi_approx:  3.14130434782609 , absolute error 0.000288305763706198 
numerator: 311 , denominator: 99 , pi_approx:  3.14141414141414 , absolute error 0.000178512175651679 
numerator: 333 , denominator: 106 , pi_approx:  3.14150943396226 , absolute error 8.32196275291075e-05 
numerator: 355 , denominator: 113 , pi_approx:  3.14159292035398 , absolute error 2.66764189404967e-07 
numerator: 52163 , denominator: 16604 , pi_approx:  3.14159238737654 , absolute error 2.66213257216208e-07 
numerator: 52518 , denominator: 16717 , pi_approx:  3.14159239097924 , absolute error 2.62610550638698e-07 
numerator: 52873 , denominator: 16830 , pi_approx:  3.14159239453357 , absolute error 2.5905622225153e-07 
numerator: 53228 , denominator: 16943 , pi_approx:  3.14159239804049 , absolute error 2.55549304384317e-07 
numerator: 53583 , denominator: 17056 , pi_approx:  3.14159240150094 , absolute error 2.52088855123844e-07 
numerator: 53938 , denominator: 17169 , pi_approx:  3.14159240491584 , absolute error 2.48673956537715e-07 
numerator: 54293 , denominator: 17282 , pi_approx:  3.14159240828608 , absolute error 2.45303715118439e-07 
numerator: 54648 , denominator: 17395 , pi_approx:  3.14159241161253 , absolute error 2.41977260895254e-07 
numerator: 55003 , denominator: 17508 , pi_approx:  3.14159241489605 , absolute error 2.3869374565777e-07 
numerator: 55358 , denominator: 17621 , pi_approx:  3.14159241813745 , absolute error 2.35452343400055e-07 
numerator: 55713 , denominator: 17734 , pi_approx:  3.14159242133754 , absolute error 2.32252249432463e-07 
numerator: 56068 , denominator: 17847 , pi_approx:  3.14159242449711 , absolute error 2.29092678605269e-07 
numerator: 56423 , denominator: 17960 , pi_approx:  3.14159242761693 , absolute error 2.25972866640944e-07 
numerator: 56778 , denominator: 18073 , pi_approx:  3.14159243069773 , absolute error 2.22892067025526e-07 
numerator: 57133 , denominator: 18186 , pi_approx:  3.14159243374024 , absolute error 2.19849553229068e-07 
numerator: 57488 , denominator: 18299 , pi_approx:  3.14159243674518 , absolute error 2.16844615597012e-07 
numerator: 57843 , denominator: 18412 , pi_approx:  3.14159243971323 , absolute error 2.13876562682458e-07 
numerator: 58198 , denominator: 18525 , pi_approx:  3.14159244264507 , absolute error 2.10944719025719e-07 
numerator: 58553 , denominator: 18638 , pi_approx:  3.14159244554137 , absolute error 2.08048426042495e-07 
numerator: 58908 , denominator: 18751 , pi_approx:  3.14159244840275 , absolute error 2.05187041135702e-07 
numerator: 59263 , denominator: 18864 , pi_approx:  3.14159245122986 , absolute error 2.02359937251373e-07 
numerator: 59618 , denominator: 18977 , pi_approx:  3.14159245402329 , absolute error 1.995665015464e-07 
numerator: 59973 , denominator: 19090 , pi_approx:  3.14159245678366 , absolute error 1.96806136720795e-07 
numerator: 60328 , denominator: 19203 , pi_approx:  3.14159245951153 , absolute error 1.94078258353159e-07 
numerator: 60683 , denominator: 19316 , pi_approx:  3.1415924622075 , absolute error 1.91382296677034e-07 
numerator: 61038 , denominator: 19429 , pi_approx:  3.1415924648721 , absolute error 1.88717694804552e-07 
numerator: 61393 , denominator: 19542 , pi_approx:  3.14159246750588 , absolute error 1.86083908282342e-07 
numerator: 61748 , denominator: 19655 , pi_approx:  3.14159247010939 , absolute error 1.83480405979708e-07 
numerator: 62103 , denominator: 19768 , pi_approx:  3.14159247268312 , absolute error 1.80906668756364e-07 
numerator: 62458 , denominator: 19881 , pi_approx:  3.1415924752276 , absolute error 1.78362189018344e-07 
numerator: 62813 , denominator: 19994 , pi_approx:  3.14159247774332 , absolute error 1.7584647027391e-07 
numerator: 63168 , denominator: 20107 , pi_approx:  3.14159248023077 , absolute error 1.73359027577646e-07 
numerator: 63523 , denominator: 20220 , pi_approx:  3.14159248269041 , absolute error 1.70899387530454e-07 
numerator: 63878 , denominator: 20333 , pi_approx:  3.14159248512271 , absolute error 1.6846708605911e-07 
numerator: 64233 , denominator: 20446 , pi_approx:  3.14159248752812 , absolute error 1.66061670192619e-07 
numerator: 64588 , denominator: 20559 , pi_approx:  3.1415924899071 , absolute error 1.63682696285861e-07 
numerator: 64943 , denominator: 20672 , pi_approx:  3.14159249226006 , absolute error 1.61329731351856e-07 
numerator: 65298 , denominator: 20785 , pi_approx:  3.14159249458744 , absolute error 1.5900235039723e-07 
numerator: 65653 , denominator: 20898 , pi_approx:  3.14159249688965 , absolute error 1.56700138642663e-07 
numerator: 66008 , denominator: 21011 , pi_approx:  3.1415924991671 , absolute error 1.54422690190614e-07 
numerator: 66363 , denominator: 21124 , pi_approx:  3.14159250142019 , absolute error 1.52169607581243e-07 
numerator: 66718 , denominator: 21237 , pi_approx:  3.14159250364929 , absolute error 1.499405017924e-07 
numerator: 67073 , denominator: 21350 , pi_approx:  3.1415925058548 , absolute error 1.47734992239634e-07 
numerator: 67428 , denominator: 21463 , pi_approx:  3.14159250803709 , absolute error 1.45552705888008e-07 
numerator: 67783 , denominator: 21576 , pi_approx:  3.14159251019651 , absolute error 1.43393278584369e-07 
numerator: 68138 , denominator: 21689 , pi_approx:  3.14159251233344 , absolute error 1.41256352392816e-07 
numerator: 68493 , denominator: 21802 , pi_approx:  3.14159251444822 , absolute error 1.39141577371049e-07 
numerator: 68848 , denominator: 21915 , pi_approx:  3.14159251654118 , absolute error 1.37048611126289e-07 
numerator: 69203 , denominator: 22028 , pi_approx:  3.14159251861267 , absolute error 1.34977118371182e-07 
numerator: 69558 , denominator: 22141 , pi_approx:  3.14159252066302 , absolute error 1.32926769591535e-07 
numerator: 69913 , denominator: 22254 , pi_approx:  3.14159252269255 , absolute error 1.30897243266759e-07 
numerator: 70268 , denominator: 22367 , pi_approx:  3.14159252470157 , absolute error 1.28888223649426e-07 
numerator: 70623 , denominator: 22480 , pi_approx:  3.14159252669039 , absolute error 1.26899401653446e-07 
numerator: 70978 , denominator: 22593 , pi_approx:  3.14159252865932 , absolute error 1.2493047396589e-07 
numerator: 71333 , denominator: 22706 , pi_approx:  3.14159253060865 , absolute error 1.22981143491074e-07 
numerator: 71688 , denominator: 22819 , pi_approx:  3.14159253253867 , absolute error 1.21051119350568e-07 
numerator: 72043 , denominator: 22932 , pi_approx:  3.14159253444968 , absolute error 1.19140115995009e-07 
numerator: 72398 , denominator: 23045 , pi_approx:  3.14159253634194 , absolute error 1.17247853648195e-07 
numerator: 72753 , denominator: 23158 , pi_approx:  3.14159253821574 , absolute error 1.15374057862994e-07 
numerator: 73108 , denominator: 23271 , pi_approx:  3.14159254007133 , absolute error 1.13518459521345e-07 
numerator: 73463 , denominator: 23384 , pi_approx:  3.141592541909 , absolute error 1.11680795722435e-07 
numerator: 73818 , denominator: 23497 , pi_approx:  3.14159254372899 , absolute error 1.09860806229989e-07 
numerator: 74173 , denominator: 23610 , pi_approx:  3.14159254553155 , absolute error 1.08058238801334e-07 
numerator: 74528 , denominator: 23723 , pi_approx:  3.14159254731695 , absolute error 1.06272843414246e-07 
numerator: 74883 , denominator: 23836 , pi_approx:  3.14159254908542 , absolute error 1.04504376263748e-07 
numerator: 75238 , denominator: 23949 , pi_approx:  3.1415925508372 , absolute error 1.02752597541667e-07 
numerator: 75593 , denominator: 24062 , pi_approx:  3.14159255257252 , absolute error 1.0101727232481e-07 
numerator: 75948 , denominator: 24175 , pi_approx:  3.14159255429162 , absolute error 9.92981696867901e-08 
numerator: 76303 , denominator: 24288 , pi_approx:  3.14159255599473 , absolute error 9.75950631421085e-08 
numerator: 76658 , denominator: 24401 , pi_approx:  3.14159255768206 , absolute error 9.59077310902501e-08 
numerator: 77013 , denominator: 24514 , pi_approx:  3.14159255935384 , absolute error 9.42359545952343e-08 
numerator: 77368 , denominator: 24627 , pi_approx:  3.14159256101027 , absolute error 9.25795200501511e-08 
numerator: 77723 , denominator: 24740 , pi_approx:  3.14159256265158 , absolute error 9.0938216512626e-08 
numerator: 78078 , denominator: 24853 , pi_approx:  3.14159256427795 , absolute error 8.9311838813444e-08 
numerator: 78433 , denominator: 24966 , pi_approx:  3.14159256588961 , absolute error 8.77001831156576e-08 
numerator: 78788 , denominator: 25079 , pi_approx:  3.14159256748674 , absolute error 8.61030513554795e-08 
numerator: 79143 , denominator: 25192 , pi_approx:  3.14159256906955 , absolute error 8.45202472454787e-08 
numerator: 79498 , denominator: 25305 , pi_approx:  3.14159257063821 , absolute error 8.29515793832059e-08 
numerator: 79853 , denominator: 25418 , pi_approx:  3.14159257219293 , absolute error 8.13968590307468e-08 
numerator: 80208 , denominator: 25531 , pi_approx:  3.14159257373389 , absolute error 7.9855901002901e-08 
numerator: 80563 , denominator: 25644 , pi_approx:  3.14159257526127 , absolute error 7.83285232230924e-08 
numerator: 80918 , denominator: 25757 , pi_approx:  3.14159257677525 , absolute error 7.68145476115478e-08 
numerator: 81273 , denominator: 25870 , pi_approx:  3.141592578276 , absolute error 7.5313797864851e-08 
numerator: 81628 , denominator: 25983 , pi_approx:  3.14159257976369 , absolute error 7.38261016763886e-08 
numerator: 81983 , denominator: 26096 , pi_approx:  3.1415925812385 , absolute error 7.23512889599931e-08 
numerator: 82338 , denominator: 26209 , pi_approx:  3.1415925827006 , absolute error 7.08891940703893e-08 
numerator: 82693 , denominator: 26322 , pi_approx:  3.14159258415014 , absolute error 6.94396526945695e-08 
numerator: 83048 , denominator: 26435 , pi_approx:  3.14159258558729 , absolute error 6.80025036281506e-08 
numerator: 83403 , denominator: 26548 , pi_approx:  3.1415925870122 , absolute error 6.65775887753739e-08 
numerator: 83758 , denominator: 26661 , pi_approx:  3.14159258842504 , absolute error 6.51647527050159e-08 
numerator: 84113 , denominator: 26774 , pi_approx:  3.14159258982595 , absolute error 6.37638426503884e-08 
numerator: 84468 , denominator: 26887 , pi_approx:  3.14159259121509 , absolute error 6.237470762116e-08 
numerator: 84823 , denominator: 27000 , pi_approx:  3.14159259259259 , absolute error 6.09972006238024e-08 
numerator: 85178 , denominator: 27113 , pi_approx:  3.14159259395862 , absolute error 5.96311755529655e-08 
numerator: 85533 , denominator: 27226 , pi_approx:  3.1415925953133 , absolute error 5.82764898560129e-08 
numerator: 85888 , denominator: 27339 , pi_approx:  3.14159259665679 , absolute error 5.69330023125758e-08 
numerator: 86243 , denominator: 27452 , pi_approx:  3.14159259798922 , absolute error 5.56005756990885e-08 
numerator: 86598 , denominator: 27565 , pi_approx:  3.14159259931072 , absolute error 5.42790727919851e-08 
numerator: 86953 , denominator: 27678 , pi_approx:  3.14159260062143 , absolute error 5.29683608085918e-08 
numerator: 87308 , denominator: 27791 , pi_approx:  3.14159260192149 , absolute error 5.16683078544133e-08 
numerator: 87663 , denominator: 27904 , pi_approx:  3.14159260321101 , absolute error 5.03787838113112e-08 
numerator: 88018 , denominator: 28017 , pi_approx:  3.14159260449013 , absolute error 4.90996621138606e-08 
numerator: 88373 , denominator: 28130 , pi_approx:  3.14159260575898 , absolute error 4.78308170848152e-08 
numerator: 88728 , denominator: 28243 , pi_approx:  3.14159260701767 , absolute error 4.65721248232853e-08 
numerator: 89083 , denominator: 28356 , pi_approx:  3.14159260826633 , absolute error 4.53234649810952e-08 
numerator: 89438 , denominator: 28469 , pi_approx:  3.14159260950508 , absolute error 4.40847172100689e-08 
numerator: 89793 , denominator: 28582 , pi_approx:  3.14159261073403 , absolute error 4.28557647147443e-08 
numerator: 90148 , denominator: 28695 , pi_approx:  3.1415926119533 , absolute error 4.16364911437483e-08 
numerator: 90503 , denominator: 28808 , pi_approx:  3.14159261316301 , absolute error 4.04267828102434e-08 
numerator: 90858 , denominator: 28921 , pi_approx:  3.14159261436327 , absolute error 3.92265278037485e-08 
numerator: 91213 , denominator: 29034 , pi_approx:  3.14159261555418 , absolute error 3.80356151019612e-08 
numerator: 91568 , denominator: 29147 , pi_approx:  3.14159261673586 , absolute error 3.68539367912035e-08 
numerator: 91923 , denominator: 29260 , pi_approx:  3.14159261790841 , absolute error 3.56813858459759e-08 
numerator: 92278 , denominator: 29373 , pi_approx:  3.14159261907194 , absolute error 3.45178561289572e-08 
numerator: 92633 , denominator: 29486 , pi_approx:  3.14159262022655 , absolute error 3.33632450555399e-08 
numerator: 92988 , denominator: 29599 , pi_approx:  3.14159262137234 , absolute error 3.22174495970273e-08 
numerator: 93343 , denominator: 29712 , pi_approx:  3.14159262250942 , absolute error 3.10803693892581e-08 
numerator: 93698 , denominator: 29825 , pi_approx:  3.14159262363789 , absolute error 2.99519054003383e-08 
numerator: 94053 , denominator: 29938 , pi_approx:  3.14159262475783 , absolute error 2.88319603747311e-08 
numerator: 94408 , denominator: 30051 , pi_approx:  3.14159262586936 , absolute error 2.77204375009887e-08 
numerator: 94763 , denominator: 30164 , pi_approx:  3.14159262697255 , absolute error 2.66172430762879e-08 
numerator: 95118 , denominator: 30277 , pi_approx:  3.14159262806751 , absolute error 2.55222829537161e-08 
numerator: 95473 , denominator: 30390 , pi_approx:  3.14159262915433 , absolute error 2.44354660949853e-08 
numerator: 95828 , denominator: 30503 , pi_approx:  3.14159263023309 , absolute error 2.33567014618075e-08 
numerator: 96183 , denominator: 30616 , pi_approx:  3.14159263130389 , absolute error 2.22858997922515e-08 
numerator: 96538 , denominator: 30729 , pi_approx:  3.14159263236682 , absolute error 2.1222973600743e-08 
numerator: 96893 , denominator: 30842 , pi_approx:  3.14159263342196 , absolute error 2.01678358457968e-08 
numerator: 97248 , denominator: 30955 , pi_approx:  3.14159263446939 , absolute error 1.91204021504632e-08 
numerator: 97603 , denominator: 31068 , pi_approx:  3.14159263550921 , absolute error 1.80805876937029e-08 
numerator: 97958 , denominator: 31181 , pi_approx:  3.14159263654148 , absolute error 1.70483094308338e-08 
numerator: 98313 , denominator: 31294 , pi_approx:  3.14159263756631 , absolute error 1.60234865376196e-08 
numerator: 98668 , denominator: 31407 , pi_approx:  3.14159263858376 , absolute error 1.50060377457351e-08 
numerator: 99023 , denominator: 31520 , pi_approx:  3.14159263959391 , absolute error 1.39958844513899e-08 
numerator: 99378 , denominator: 31633 , pi_approx:  3.14159264059685 , absolute error 1.2992948050794e-08 
numerator: 99733 , denominator: 31746 , pi_approx:  3.14159264159264 , absolute error 1.19971517165141e-08 
numerator: 100088 , denominator: 31859 , pi_approx:  3.14159264258137 , absolute error 1.1008419065206e-08 
numerator: 100443 , denominator: 31972 , pi_approx:  3.14159264356312 , absolute error 1.00266754898826e-08 
numerator: 100798 , denominator: 32085 , pi_approx:  3.14159264453795 , absolute error 9.0518468276457e-09 
numerator: 101153 , denominator: 32198 , pi_approx:  3.14159264550593 , absolute error 8.08386113604342e-09 
numerator: 101508 , denominator: 32311 , pi_approx:  3.14159264646715 , absolute error 7.12264558444531e-09 
numerator: 101863 , denominator: 32424 , pi_approx:  3.14159264742166 , absolute error 6.1681300067562e-09 
numerator: 102218 , denominator: 32537 , pi_approx:  3.14159264836955 , absolute error 5.22024468097015e-09 
numerator: 102573 , denominator: 32650 , pi_approx:  3.14159264931087 , absolute error 4.27892032917043e-09 
numerator: 102928 , denominator: 32763 , pi_approx:  3.1415926502457 , absolute error 3.34408900570793e-09 
numerator: 103283 , denominator: 32876 , pi_approx:  3.14159265117411 , absolute error 2.41568454129037e-09 
numerator: 103638 , denominator: 32989 , pi_approx:  3.14159265209615 , absolute error 1.49363987844708e-09 
numerator: 103993 , denominator: 33102 , pi_approx:  3.1415926530119 , absolute error 5.77890624242627e-10 
numerator: 104348 , denominator: 33215 , pi_approx:  3.14159265392142 , absolute error 3.31628058347633e-10 
numerator: 208341 , denominator: 66317 , pi_approx:  3.14159265346744 , absolute error 1.22356347276309e-10 
numerator: 312689 , denominator: 99532 , pi_approx:  3.14159265361894 , absolute error 2.91433543964104e-11 
numerator: 833719 , denominator: 265381 , pi_approx:  3.14159265358108 , absolute error 8.71525074330748e-12 
numerator: 1146408 , denominator: 364913 , pi_approx:  3.1415926535914 , absolute error 1.61071156412618e-12 
numerator: 3126535 , denominator: 995207 , pi_approx:  3.14159265358865 , absolute error 1.14264153694421e-12 
numerator: 4272943 , denominator: 1360120 , pi_approx:  3.14159265358939 , absolute error 4.04121180963557e-13 
numerator: 5419351 , denominator: 1725033 , pi_approx:  3.14159265358982 , absolute error 2.22044604925031e-14 </code></pre>
</div>
</div>



 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-23-approximating-pi/2023-07-23-approximating-pi.html</guid>
  <pubDate>Sat, 22 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Bicycle comparison</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-23-bicycle-comparison/2023-07-23-bicycle-comparison.html</link>
  <description><![CDATA[ 



<p><img src="https://sbloggel.netlify.app/posts/2023-07-23-bicycle-comparison/koga_old.jpeg" class="img-fluid" style="width:32.0%" data-fig-align="center"> <img src="https://sbloggel.netlify.app/posts/2023-07-23-bicycle-comparison/koga_new.jpeg" class="img-fluid" style="width:32.0%" data-fig-align="center"> <img src="https://sbloggel.netlify.app/posts/2023-07-23-bicycle-comparison/hammerbacher.jpeg" class="img-fluid" style="width:32.0%" data-fig-align="center"></p>



 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-23-bicycle-comparison/2023-07-23-bicycle-comparison.html</guid>
  <pubDate>Sat, 22 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>First pytorch tutorial</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-21-first-pytorch-tutorial/2023-07-21-first-pytorch-tutorial.html</link>
  <description><![CDATA[ 



<ul>
<li><a href="https://pytorch.org/tutorials/beginner/basics/quickstart_tutorial.html">Link to tutorial</a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tidyverse'</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'reticulate'</span>)</span>
<span id="cb3-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">use_condaenv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'machine_learning'</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> torch</span>
<span id="cb4-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> torch <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> nn</span>
<span id="cb4-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> torch.utils.data <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> DataLoader</span>
<span id="cb4-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> torchvision <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> datasets</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: 'dlopen(/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torchvision/image.so, 0x0006): Symbol not found: (__ZN3c106detail19maybe_wrap_dim_slowIxEET_S2_S2_b)
  Referenced from: '/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torchvision/image.so'
  Expected in: '/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torch/lib/libc10.dylib''If you don't plan on using image functionality from `torchvision.io`, you can ignore this warning. Otherwise, there might be something wrong with your environment. Did you have `libjpeg` or `libpng` installed before building `torchvision` from source?
  warn(</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> torchvision.transforms <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> ToTensor</span>
<span id="cb6-2"></span>
<span id="cb6-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Download training data from open datasets.</span></span>
<span id="cb6-4">training_data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datasets.FashionMNIST(</span>
<span id="cb6-5">    root<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data"</span>,</span>
<span id="cb6-6">    train<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>,</span>
<span id="cb6-7">    download<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>,</span>
<span id="cb6-8">    transform<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ToTensor(),</span>
<span id="cb6-9">)</span>
<span id="cb6-10"></span>
<span id="cb6-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Download test data from open datasets.</span></span>
<span id="cb6-12">test_data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> datasets.FashionMNIST(</span>
<span id="cb6-13">    root<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"data"</span>,</span>
<span id="cb6-14">    train<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>,</span>
<span id="cb6-15">    download<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>,</span>
<span id="cb6-16">    transform<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ToTensor(),</span>
<span id="cb6-17">)</span>
<span id="cb6-18"></span>
<span id="cb6-19"></span>
<span id="cb6-20">training_data.data.shape</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>torch.Size([60000, 28, 28])</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1">test_data.data.shape</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>torch.Size([10000, 28, 28])</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1">batch_size <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">64</span></span>
<span id="cb10-2"></span>
<span id="cb10-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create data loaders.</span></span>
<span id="cb10-4">train_dataloader <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> DataLoader(training_data, batch_size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>batch_size)</span>
<span id="cb10-5">test_dataloader <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> DataLoader(test_data, batch_size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>batch_size)</span>
<span id="cb10-6"></span>
<span id="cb10-7"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> X, y <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> test_dataloader:</span>
<span id="cb10-8">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Shape of X [N, C, H, W]: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>X<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>shape<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb10-9">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Shape of y: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>y<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>shape<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>y<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">.</span>dtype<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span>
<span id="cb10-10">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">break</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Shape of X [N, C, H, W]: torch.Size([64, 1, 28, 28])
Shape of y: torch.Size([64]) torch.int64</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Get cpu, gpu or mps device for training.</span></span>
<span id="cb12-2">device <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (</span>
<span id="cb12-3">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cuda"</span></span>
<span id="cb12-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> torch.cuda.is_available()</span>
<span id="cb12-5">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mps"</span></span>
<span id="cb12-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> torch.backends.mps.is_available()</span>
<span id="cb12-7">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">else</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cpu"</span></span>
<span id="cb12-8">)</span>
<span id="cb12-9"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Using </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>device<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> device"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Using mps device</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Define model</span></span>
<span id="cb14-2"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">class</span> NeuralNetwork(nn.Module):</span>
<span id="cb14-3">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__init__</span>(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>):</span>
<span id="cb14-4">        <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">super</span>().<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">__init__</span>()</span>
<span id="cb14-5">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.flatten <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> nn.Flatten()</span>
<span id="cb14-6">        <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.linear_relu_stack <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> nn.Sequential(</span>
<span id="cb14-7">            nn.Linear(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">28</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">28</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">512</span>),</span>
<span id="cb14-8">            nn.ReLU(),</span>
<span id="cb14-9">            nn.Linear(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">512</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">512</span>),</span>
<span id="cb14-10">            nn.ReLU(),</span>
<span id="cb14-11">            nn.Linear(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">512</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>)</span>
<span id="cb14-12">        )</span>
<span id="cb14-13"></span>
<span id="cb14-14">    <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> forward(<span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>, x):</span>
<span id="cb14-15">        x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.flatten(x)</span>
<span id="cb14-16">        logits <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">self</span>.linear_relu_stack(x)</span>
<span id="cb14-17">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> logits</span>
<span id="cb14-18"></span>
<span id="cb14-19">model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> NeuralNetwork().to(device)</span>
<span id="cb14-20"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(model)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NeuralNetwork(
  (flatten): Flatten(start_dim=1, end_dim=-1)
  (linear_relu_stack): Sequential(
    (0): Linear(in_features=784, out_features=512, bias=True)
    (1): ReLU()
    (2): Linear(in_features=512, out_features=512, bias=True)
    (3): ReLU()
    (4): Linear(in_features=512, out_features=10, bias=True)
  )
)</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1">loss_fn <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> nn.CrossEntropyLoss()</span>
<span id="cb16-2">optimizer <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> torch.optim.SGD(model.parameters(), lr<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1e-3</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> train(dataloader, model, loss_fn, optimizer):</span>
<span id="cb17-2">    size <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(dataloader.dataset)</span>
<span id="cb17-3">    model.train()</span>
<span id="cb17-4">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> batch, (X, y) <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">enumerate</span>(dataloader):</span>
<span id="cb17-5">        X, y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X.to(device), y.to(device)</span>
<span id="cb17-6"></span>
<span id="cb17-7">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Compute prediction error</span></span>
<span id="cb17-8">        pred <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> model(X)</span>
<span id="cb17-9">        loss <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> loss_fn(pred, y)</span>
<span id="cb17-10"></span>
<span id="cb17-11">        <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Backpropagation</span></span>
<span id="cb17-12">        loss.backward()</span>
<span id="cb17-13">        optimizer.step()</span>
<span id="cb17-14">        optimizer.zero_grad()</span>
<span id="cb17-15"></span>
<span id="cb17-16">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> batch <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>:</span>
<span id="cb17-17">            loss, current <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> loss.item(), (batch <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(X)</span>
<span id="cb17-18">            <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"loss: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>loss<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:&gt;7f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">  [</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>current<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:&gt;5d}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">/</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>size<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:&gt;5d}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">]"</span>)</span>
<span id="cb17-19">            </span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb18-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> test(dataloader, model, loss_fn):</span>
<span id="cb18-2">    size <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(dataloader.dataset)</span>
<span id="cb18-3">    num_batches <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">len</span>(dataloader)</span>
<span id="cb18-4">    model.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span>()</span>
<span id="cb18-5">    test_loss, correct <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb18-6">    <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">with</span> torch.no_grad():</span>
<span id="cb18-7">        <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> X, y <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> dataloader:</span>
<span id="cb18-8">            X, y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> X.to(device), y.to(device)</span>
<span id="cb18-9">            pred <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> model(X)</span>
<span id="cb18-10">            test_loss <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+=</span> loss_fn(pred, y).item()</span>
<span id="cb18-11">            correct <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+=</span> (pred.argmax(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> y).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">type</span>(torch.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">float</span>).<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sum</span>().item()</span>
<span id="cb18-12">    test_loss <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/=</span> num_batches</span>
<span id="cb18-13">    correct <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/=</span> size</span>
<span id="cb18-14">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Test Error: </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> Accuracy: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span>correct)<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:&gt;0.1f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">%, Avg loss: </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>test_loss<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:&gt;8f}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;"> </span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1">epochs <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb19-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">for</span> t <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">range</span>(epochs):</span>
<span id="cb19-3">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f"Epoch </span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>t<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ch" style="color: #20794D;
background-color: null;
font-style: inherit;">\n</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">-------------------------------"</span>)</span>
<span id="cb19-4">    train(train_dataloader, model, loss_fn, optimizer)</span>
<span id="cb19-5">    test(test_dataloader, model, loss_fn)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Epoch 1
-------------------------------
loss: 2.308264  [   64/60000]
loss: 2.293125  [ 6464/60000]
loss: 2.272566  [12864/60000]
loss: 2.268989  [19264/60000]
loss: 2.242235  [25664/60000]
loss: 2.217603  [32064/60000]
loss: 2.219540  [38464/60000]
loss: 2.189466  [44864/60000]
loss: 2.201402  [51264/60000]
loss: 2.155387  [57664/60000]
Test Error: 
 Accuracy: 55.3%, Avg loss: 2.152392 

Epoch 2
-------------------------------
loss: 2.166718  [   64/60000]
loss: 2.151713  [ 6464/60000]
loss: 2.091146  [12864/60000]
loss: 2.113186  [19264/60000]
loss: 2.042603  [25664/60000]
loss: 1.990383  [32064/60000]
loss: 2.011725  [38464/60000]
loss: 1.935344  [44864/60000]
loss: 1.955811  [51264/60000]
loss: 1.868298  [57664/60000]
Test Error: 
 Accuracy: 60.2%, Avg loss: 1.868228 

Epoch 3
-------------------------------
loss: 1.902832  [   64/60000]
loss: 1.868233  [ 6464/60000]
loss: 1.745899  [12864/60000]
loss: 1.795774  [19264/60000]
loss: 1.664541  [25664/60000]
loss: 1.621758  [32064/60000]
loss: 1.637972  [38464/60000]
loss: 1.547655  [44864/60000]
loss: 1.581732  [51264/60000]
loss: 1.463945  [57664/60000]
Test Error: 
 Accuracy: 62.1%, Avg loss: 1.486784 

Epoch 4
-------------------------------
loss: 1.553752  [   64/60000]
loss: 1.521968  [ 6464/60000]
loss: 1.363211  [12864/60000]
loss: 1.443876  [19264/60000]
loss: 1.313316  [25664/60000]
loss: 1.310792  [32064/60000]
loss: 1.326083  [38464/60000]
loss: 1.257503  [44864/60000]
loss: 1.302350  [51264/60000]
loss: 1.196620  [57664/60000]
Test Error: 
 Accuracy: 63.9%, Avg loss: 1.223636 

Epoch 5
-------------------------------
loss: 1.296221  [   64/60000]
loss: 1.287105  [ 6464/60000]
loss: 1.111054  [12864/60000]
loss: 1.227450  [19264/60000]
loss: 1.095856  [25664/60000]
loss: 1.115949  [32064/60000]
loss: 1.144591  [38464/60000]
loss: 1.083400  [44864/60000]
loss: 1.135926  [51264/60000]
loss: 1.047703  [57664/60000]
Test Error: 
 Accuracy: 65.0%, Avg loss: 1.067398 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Done!"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Done!</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1">torch.save(model.state_dict(), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"model.pth"</span>)</span>
<span id="cb23-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Saved PyTorch Model State to model.pth"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Saved PyTorch Model State to model.pth</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1">model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> NeuralNetwork().to(device)</span>
<span id="cb25-2">model.load_state_dict(torch.load(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"model.pth"</span>))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>&lt;All keys matched successfully&gt;</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1">classes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [</span>
<span id="cb27-2">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"T-shirt/top"</span>,</span>
<span id="cb27-3">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Trouser"</span>,</span>
<span id="cb27-4">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Pullover"</span>,</span>
<span id="cb27-5">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Dress"</span>,</span>
<span id="cb27-6">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Coat"</span>,</span>
<span id="cb27-7">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sandal"</span>,</span>
<span id="cb27-8">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Shirt"</span>,</span>
<span id="cb27-9">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Sneaker"</span>,</span>
<span id="cb27-10">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Bag"</span>,</span>
<span id="cb27-11">    <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Ankle boot"</span>,</span>
<span id="cb27-12">]</span>
<span id="cb27-13"></span>
<span id="cb27-14">model.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">eval</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>NeuralNetwork(
  (flatten): Flatten(start_dim=1, end_dim=-1)
  (linear_relu_stack): Sequential(
    (0): Linear(in_features=784, out_features=512, bias=True)
    (1): ReLU()
    (2): Linear(in_features=512, out_features=512, bias=True)
    (3): ReLU()
    (4): Linear(in_features=512, out_features=10, bias=True)
  )
)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1">x, y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> test_data[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>][<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>], test_data[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>][<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span>
<span id="cb29-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">with</span> torch.no_grad():</span>
<span id="cb29-3">    x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> x.to(device)</span>
<span id="cb29-4">    pred <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> model(x)</span>
<span id="cb29-5">    predicted, actual <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> classes[pred[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>].argmax(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)], classes[y]</span>
<span id="cb29-6">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">f'Predicted: "</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>predicted<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">", Actual: "</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">{</span>actual<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">}</span><span class="ss" style="color: #20794D;
background-color: null;
font-style: inherit;">"'</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Predicted: "Ankle boot", Actual: "Ankle boot"</code></pre>
</div>
</div>



 ]]></description>
  <category>Python</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-21-first-pytorch-tutorial/2023-07-21-first-pytorch-tutorial.html</guid>
  <pubDate>Thu, 20 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Starting with fastai</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-20-starting-with-fastai/2023-07-20-starting-with-fastai.html</link>
  <description><![CDATA[ 



<ul>
<li><a href="https://course.fast.ai/Resources/book.html">Link to the book</a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tidyverse'</span>)</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>── Attaching core tidyverse packages ──────────────────────── tidyverse 2.0.0 ──
✔ dplyr     1.1.2     ✔ readr     2.1.4
✔ forcats   1.0.0     ✔ stringr   1.5.0
✔ ggplot2   3.4.2     ✔ tibble    3.2.1
✔ lubridate 1.9.2     ✔ tidyr     1.3.0
✔ purrr     1.0.1     
── Conflicts ────────────────────────────────────────── tidyverse_conflicts() ──
✖ dplyr::filter() masks stats::filter()
✖ dplyr::lag()    masks stats::lag()
ℹ Use the conflicted package (&lt;http://conflicted.r-lib.org/&gt;) to force all conflicts to become errors</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span>
<span id="cb3-2"></span>
<span id="cb3-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'reticulate'</span>)</span>
<span id="cb3-4"></span>
<span id="cb3-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># conda_create('machine_learning')</span></span>
<span id="cb3-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">use_condaenv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'machine_learning'</span>)</span>
<span id="cb3-7"></span>
<span id="cb3-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># conda_install('machine_learning', 'fastai')</span></span>
<span id="cb3-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># conda_install('machine_learning', 'torchvision')</span></span>
<span id="cb3-10"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># conda_install('machine_learning', 'pytorch')</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#id first_training</span></span>
<span id="cb4-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#caption Results from the first training</span></span>
<span id="cb4-3"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># CLICK ME</span></span>
<span id="cb4-4"></span>
<span id="cb4-5"></span>
<span id="cb4-6"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> torch</span>
<span id="cb4-7">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> torch.rand(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span>
<span id="cb4-8"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(x)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>tensor([[0.6049, 0.7627, 0.0083],
        [0.5420, 0.0231, 0.7970],
        [0.9335, 0.4393, 0.2625],
        [0.7199, 0.0066, 0.1776],
        [0.9718, 0.5141, 0.1373]])</code></pre>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> fastai.vision.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">all</span> <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torchvision/io/image.py:13: UserWarning: Failed to load image Python extension: 'dlopen(/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torchvision/image.so, 0x0006): Symbol not found: (__ZN3c106detail19maybe_wrap_dim_slowIxEET_S2_S2_b)
  Referenced from: '/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torchvision/image.so'
  Expected in: '/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torch/lib/libc10.dylib''If you don't plan on using image functionality from `torchvision.io`, you can ignore this warning. Otherwise, there might be something wrong with your environment. Did you have `libjpeg` or `libpng` installed before building `torchvision` from source?
  warn(</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1">path <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> untar_data(URLs.PETS)<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">/</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'images'</span></span>
<span id="cb8-2"></span>
<span id="cb8-3"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">def</span> is_cat(x): <span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">return</span> x[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>].isupper()</span>
<span id="cb8-4">dls <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> ImageDataLoaders.from_name_func(</span>
<span id="cb8-5">    path, get_image_files(path), valid_pct<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.2</span>, seed<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">42</span>,</span>
<span id="cb8-6">    label_func<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>is_cat, item_tfms<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>Resize(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">224</span>))</span>
<span id="cb8-7"></span>
<span id="cb8-8">learn <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> vision_learner(dls, resnet34, metrics<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>error_rate)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torchvision/models/_utils.py:208: UserWarning: The parameter 'pretrained' is deprecated since 0.13 and may be removed in the future, please use 'weights' instead.
  warnings.warn(
/Users/seb/Library/r-miniconda-arm64/envs/machine_learning/lib/python3.9/site-packages/torchvision/models/_utils.py:223: UserWarning: Arguments other than a weight enum or `None` for 'weights' are deprecated since 0.13 and may be removed in the future. The current behavior is equivalent to passing `weights=ResNet34_Weights.IMAGENET1K_V1`. You can also use `weights=ResNet34_Weights.DEFAULT` to get the most up-to-date weights.
  warnings.warn(msg)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1">learn.fine_tune(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>█
epoch     train_loss  valid_loss  error_rate  time    
█

Epoch 1/1 : |----------------------------------------| 0.00% [0/92 00:00&lt;?]

Epoch 1/1 : |----------------------------------------| 1.09% [1/92 00:00&lt;01:11]

Epoch 1/1 : |----------------------------------------| 2.17% [2/92 00:01&lt;01:03 1.8910]

Epoch 1/1 : |█---------------------------------------| 3.26% [3/92 00:02&lt;01:00 1.9657]

Epoch 1/1 : |█---------------------------------------| 4.35% [4/92 00:02&lt;00:58 1.7734]

Epoch 1/1 : |██--------------------------------------| 5.43% [5/92 00:03&lt;00:56 1.6578]

Epoch 1/1 : |██--------------------------------------| 6.52% [6/92 00:03&lt;00:55 1.6069]

Epoch 1/1 : |███-------------------------------------| 7.61% [7/92 00:04&lt;00:54 1.5560]

Epoch 1/1 : |███-------------------------------------| 8.70% [8/92 00:05&lt;00:54 1.5045]

Epoch 1/1 : |███-------------------------------------| 9.78% [9/92 00:05&lt;00:53 1.4761]

Epoch 1/1 : |████------------------------------------| 10.87% [10/92 00:06&lt;00:53 1.4145]

Epoch 1/1 : |████------------------------------------| 11.96% [11/92 00:07&lt;00:52 1.3537]

Epoch 1/1 : |█████-----------------------------------| 13.04% [12/92 00:07&lt;00:51 1.3306]

Epoch 1/1 : |█████-----------------------------------| 14.13% [13/92 00:08&lt;00:51 1.2733]

Epoch 1/1 : |██████----------------------------------| 15.22% [14/92 00:09&lt;00:50 1.2394]

Epoch 1/1 : |██████----------------------------------| 16.30% [15/92 00:09&lt;00:49 1.2001]

Epoch 1/1 : |██████----------------------------------| 17.39% [16/92 00:10&lt;00:48 1.1647]

Epoch 1/1 : |███████---------------------------------| 18.48% [17/92 00:10&lt;00:48 1.1171]

Epoch 1/1 : |███████---------------------------------| 19.57% [18/92 00:11&lt;00:47 1.0695]

Epoch 1/1 : |████████--------------------------------| 20.65% [19/92 00:12&lt;00:47 1.0127]

Epoch 1/1 : |████████--------------------------------| 21.74% [20/92 00:12&lt;00:46 0.9695]

Epoch 1/1 : |█████████-------------------------------| 22.83% [21/92 00:13&lt;00:45 0.9318]

Epoch 1/1 : |█████████-------------------------------| 23.91% [22/92 00:14&lt;00:45 0.8980]

Epoch 1/1 : |██████████------------------------------| 25.00% [23/92 00:14&lt;00:44 0.8586]

Epoch 1/1 : |██████████------------------------------| 26.09% [24/92 00:15&lt;00:44 0.8289]

Epoch 1/1 : |██████████------------------------------| 27.17% [25/92 00:16&lt;00:43 0.8003]

Epoch 1/1 : |███████████-----------------------------| 28.26% [26/92 00:16&lt;00:42 0.7684]

Epoch 1/1 : |███████████-----------------------------| 29.35% [27/92 00:17&lt;00:41 0.7496]

Epoch 1/1 : |████████████----------------------------| 30.43% [28/92 00:18&lt;00:41 0.7307]

Epoch 1/1 : |████████████----------------------------| 31.52% [29/92 00:18&lt;00:40 0.7151]

Epoch 1/1 : |█████████████---------------------------| 32.61% [30/92 00:19&lt;00:39 0.7171]

Epoch 1/1 : |█████████████---------------------------| 33.70% [31/92 00:19&lt;00:39 0.6873]

Epoch 1/1 : |█████████████---------------------------| 34.78% [32/92 00:20&lt;00:38 0.6628]

Epoch 1/1 : |██████████████--------------------------| 35.87% [33/92 00:21&lt;00:37 0.6490]

Epoch 1/1 : |██████████████--------------------------| 36.96% [34/92 00:21&lt;00:37 0.6238]

Epoch 1/1 : |███████████████-------------------------| 38.04% [35/92 00:22&lt;00:36 0.6011]

Epoch 1/1 : |███████████████-------------------------| 39.13% [36/92 00:22&lt;00:35 0.5817]

Epoch 1/1 : |████████████████------------------------| 40.22% [37/92 00:23&lt;00:35 0.5627]

Epoch 1/1 : |████████████████------------------------| 41.30% [38/92 00:24&lt;00:34 0.5436]

Epoch 1/1 : |████████████████------------------------| 42.39% [39/92 00:24&lt;00:33 0.5236]

Epoch 1/1 : |█████████████████-----------------------| 43.48% [40/92 00:25&lt;00:33 0.5079]

Epoch 1/1 : |█████████████████-----------------------| 44.57% [41/92 00:26&lt;00:32 0.4935]

Epoch 1/1 : |██████████████████----------------------| 45.65% [42/92 00:26&lt;00:31 0.4778]

Epoch 1/1 : |██████████████████----------------------| 46.74% [43/92 00:27&lt;00:31 0.4650]

Epoch 1/1 : |███████████████████---------------------| 47.83% [44/92 00:28&lt;00:30 0.4598]

Epoch 1/1 : |███████████████████---------------------| 48.91% [45/92 00:28&lt;00:29 0.4534]

Epoch 1/1 : |████████████████████--------------------| 50.00% [46/92 00:29&lt;00:29 0.4393]

Epoch 1/1 : |████████████████████--------------------| 51.09% [47/92 00:29&lt;00:28 0.4275]

Epoch 1/1 : |████████████████████--------------------| 52.17% [48/92 00:30&lt;00:27 0.4147]

Epoch 1/1 : |█████████████████████-------------------| 53.26% [49/92 00:31&lt;00:27 0.4136]

Epoch 1/1 : |█████████████████████-------------------| 54.35% [50/92 00:31&lt;00:26 0.4013]

Epoch 1/1 : |██████████████████████------------------| 55.43% [51/92 00:32&lt;00:26 0.3913]

Epoch 1/1 : |██████████████████████------------------| 56.52% [52/92 00:33&lt;00:25 0.3847]

Epoch 1/1 : |███████████████████████-----------------| 57.61% [53/92 00:33&lt;00:24 0.3770]

Epoch 1/1 : |███████████████████████-----------------| 58.70% [54/92 00:34&lt;00:24 0.3667]

Epoch 1/1 : |███████████████████████-----------------| 59.78% [55/92 00:34&lt;00:23 0.3560]

Epoch 1/1 : |████████████████████████----------------| 60.87% [56/92 00:35&lt;00:22 0.3456]

Epoch 1/1 : |████████████████████████----------------| 61.96% [57/92 00:36&lt;00:22 0.3383]

Epoch 1/1 : |█████████████████████████---------------| 63.04% [58/92 00:36&lt;00:21 0.3351]

Epoch 1/1 : |█████████████████████████---------------| 64.13% [59/92 00:37&lt;00:21 0.3261]

Epoch 1/1 : |██████████████████████████--------------| 65.22% [60/92 00:38&lt;00:20 0.3226]

Epoch 1/1 : |██████████████████████████--------------| 66.30% [61/92 00:38&lt;00:19 0.3138]

Epoch 1/1 : |██████████████████████████--------------| 67.39% [62/92 00:39&lt;00:19 0.3054]

Epoch 1/1 : |███████████████████████████-------------| 68.48% [63/92 00:40&lt;00:18 0.3015]

Epoch 1/1 : |███████████████████████████-------------| 69.57% [64/92 00:40&lt;00:17 0.2947]

Epoch 1/1 : |████████████████████████████------------| 70.65% [65/92 00:41&lt;00:17 0.2881]

Epoch 1/1 : |████████████████████████████------------| 71.74% [66/92 00:42&lt;00:16 0.2826]

Epoch 1/1 : |█████████████████████████████-----------| 72.83% [67/92 00:42&lt;00:15 0.2753]

Epoch 1/1 : |█████████████████████████████-----------| 73.91% [68/92 00:43&lt;00:15 0.2681]

Epoch 1/1 : |██████████████████████████████----------| 75.00% [69/92 00:43&lt;00:14 0.2675]

Epoch 1/1 : |██████████████████████████████----------| 76.09% [70/92 00:44&lt;00:14 0.2628]

Epoch 1/1 : |██████████████████████████████----------| 77.17% [71/92 00:45&lt;00:13 0.2567]

Epoch 1/1 : |███████████████████████████████---------| 78.26% [72/92 00:45&lt;00:12 0.2502]

Epoch 1/1 : |███████████████████████████████---------| 79.35% [73/92 00:46&lt;00:12 0.2438]

Epoch 1/1 : |████████████████████████████████--------| 80.43% [74/92 00:47&lt;00:11 0.2404]

Epoch 1/1 : |████████████████████████████████--------| 81.52% [75/92 00:47&lt;00:10 0.2346]

Epoch 1/1 : |█████████████████████████████████-------| 82.61% [76/92 00:48&lt;00:10 0.2311]

Epoch 1/1 : |█████████████████████████████████-------| 83.70% [77/92 00:49&lt;00:09 0.2401]

Epoch 1/1 : |█████████████████████████████████-------| 84.78% [78/92 00:49&lt;00:08 0.2367]

Epoch 1/1 : |██████████████████████████████████------| 85.87% [79/92 00:50&lt;00:08 0.2309]

Epoch 1/1 : |██████████████████████████████████------| 86.96% [80/92 00:50&lt;00:07 0.2287]

Epoch 1/1 : |███████████████████████████████████-----| 88.04% [81/92 00:51&lt;00:07 0.2279]

Epoch 1/1 : |███████████████████████████████████-----| 89.13% [82/92 00:52&lt;00:06 0.2228]

Epoch 1/1 : |████████████████████████████████████----| 90.22% [83/92 00:52&lt;00:05 0.2185]

Epoch 1/1 : |████████████████████████████████████----| 91.30% [84/92 00:53&lt;00:05 0.2132]

Epoch 1/1 : |████████████████████████████████████----| 92.39% [85/92 00:54&lt;00:04 0.2105]

Epoch 1/1 : |█████████████████████████████████████---| 93.48% [86/92 00:54&lt;00:03 0.2075]

Epoch 1/1 : |█████████████████████████████████████---| 94.57% [87/92 00:55&lt;00:03 0.2025]

Epoch 1/1 : |██████████████████████████████████████--| 95.65% [88/92 00:55&lt;00:02 0.1978]

Epoch 1/1 : |██████████████████████████████████████--| 96.74% [89/92 00:56&lt;00:01 0.1954]

Epoch 1/1 : |███████████████████████████████████████-| 97.83% [90/92 00:57&lt;00:01 0.1915]

Epoch 1/1 : |███████████████████████████████████████-| 98.91% [91/92 00:57&lt;00:00 0.1897]

Epoch 1/1 : |████████████████████████████████████████| 100.00% [92/92 00:58&lt;00:00 0.1865]

Epoch 1/1 :                                                                              

Epoch 1/1 :                                                                              
█

Epoch 1/1 : |----------------------------------------| 0.00% [0/24 00:00&lt;?]

Epoch 1/1 : |█---------------------------------------| 4.17% [1/24 00:00&lt;00:08]

Epoch 1/1 : |███-------------------------------------| 8.33% [2/24 00:00&lt;00:07 0.1867]

Epoch 1/1 : |█████-----------------------------------| 12.50% [3/24 00:01&lt;00:07 0.1867]

Epoch 1/1 : |██████----------------------------------| 16.67% [4/24 00:01&lt;00:07 0.1867]

Epoch 1/1 : |████████--------------------------------| 20.83% [5/24 00:01&lt;00:06 0.1867]

Epoch 1/1 : |██████████------------------------------| 25.00% [6/24 00:02&lt;00:06 0.1867]

Epoch 1/1 : |███████████-----------------------------| 29.17% [7/24 00:02&lt;00:05 0.1867]

Epoch 1/1 : |█████████████---------------------------| 33.33% [8/24 00:02&lt;00:05 0.1867]

Epoch 1/1 : |███████████████-------------------------| 37.50% [9/24 00:03&lt;00:05 0.1867]

Epoch 1/1 : |████████████████------------------------| 41.67% [10/24 00:03&lt;00:04 0.1867]

Epoch 1/1 : |██████████████████----------------------| 45.83% [11/24 00:03&lt;00:04 0.1867]

Epoch 1/1 : |████████████████████--------------------| 50.00% [12/24 00:04&lt;00:04 0.1867]

Epoch 1/1 : |█████████████████████-------------------| 54.17% [13/24 00:04&lt;00:03 0.1867]

Epoch 1/1 : |███████████████████████-----------------| 58.33% [14/24 00:04&lt;00:03 0.1867]

Epoch 1/1 : |█████████████████████████---------------| 62.50% [15/24 00:05&lt;00:03 0.1867]

Epoch 1/1 : |██████████████████████████--------------| 66.67% [16/24 00:05&lt;00:02 0.1867]

Epoch 1/1 : |████████████████████████████------------| 70.83% [17/24 00:05&lt;00:02 0.1867]

Epoch 1/1 : |██████████████████████████████----------| 75.00% [18/24 00:06&lt;00:02 0.1867]

Epoch 1/1 : |███████████████████████████████---------| 79.17% [19/24 00:06&lt;00:01 0.1867]

Epoch 1/1 : |█████████████████████████████████-------| 83.33% [20/24 00:07&lt;00:01 0.1867]

Epoch 1/1 : |███████████████████████████████████-----| 87.50% [21/24 00:07&lt;00:01 0.1867]

Epoch 1/1 : |████████████████████████████████████----| 91.67% [22/24 00:07&lt;00:00 0.1867]

Epoch 1/1 : |██████████████████████████████████████--| 95.83% [23/24 00:08&lt;00:00 0.1867]

Epoch 1/1 : |████████████████████████████████████████| 100.00% [24/24 00:08&lt;00:00 0.1867]

Epoch 1/1 :                                                                              

Epoch 1/1 :                                                                              
0         0.186726    0.036176    0.012855    01:06     
█
epoch     train_loss  valid_loss  error_rate  time    
█

Epoch 1/1 : |----------------------------------------| 0.00% [0/92 00:00&lt;?]

Epoch 1/1 : |----------------------------------------| 1.09% [1/92 00:00&lt;01:27]

Epoch 1/1 : |----------------------------------------| 2.17% [2/92 00:01&lt;01:28 0.0047]

Epoch 1/1 : |█---------------------------------------| 3.26% [3/92 00:02&lt;01:23 0.0539]

Epoch 1/1 : |█---------------------------------------| 4.35% [4/92 00:03&lt;01:21 0.0895]

Epoch 1/1 : |██--------------------------------------| 5.43% [5/92 00:04&lt;01:19 0.0868]

Epoch 1/1 : |██--------------------------------------| 6.52% [6/92 00:05&lt;01:17 0.0715]

Epoch 1/1 : |███-------------------------------------| 7.61% [7/92 00:06&lt;01:16 0.0628]

Epoch 1/1 : |███-------------------------------------| 8.70% [8/92 00:07&lt;01:14 0.0534]

Epoch 1/1 : |███-------------------------------------| 9.78% [9/92 00:07&lt;01:13 0.0703]

Epoch 1/1 : |████------------------------------------| 10.87% [10/92 00:08&lt;01:12 0.0871]

Epoch 1/1 : |████------------------------------------| 11.96% [11/92 00:09&lt;01:11 0.0879]

Epoch 1/1 : |█████-----------------------------------| 13.04% [12/92 00:10&lt;01:10 0.0861]

Epoch 1/1 : |█████-----------------------------------| 14.13% [13/92 00:11&lt;01:09 0.0784]

Epoch 1/1 : |██████----------------------------------| 15.22% [14/92 00:12&lt;01:08 0.0719]

Epoch 1/1 : |██████----------------------------------| 16.30% [15/92 00:13&lt;01:07 0.0676]

Epoch 1/1 : |██████----------------------------------| 17.39% [16/92 00:13&lt;01:06 0.0661]

Epoch 1/1 : |███████---------------------------------| 18.48% [17/92 00:14&lt;01:05 0.0617]

Epoch 1/1 : |███████---------------------------------| 19.57% [18/92 00:15&lt;01:04 0.0673]

Epoch 1/1 : |████████--------------------------------| 20.65% [19/92 00:16&lt;01:03 0.0693]

Epoch 1/1 : |████████--------------------------------| 21.74% [20/92 00:17&lt;01:03 0.0792]

Epoch 1/1 : |█████████-------------------------------| 22.83% [21/92 00:18&lt;01:02 0.0770]

Epoch 1/1 : |█████████-------------------------------| 23.91% [22/92 00:19&lt;01:01 0.0729]

Epoch 1/1 : |██████████------------------------------| 25.00% [23/92 00:20&lt;01:00 0.0710]

Epoch 1/1 : |██████████------------------------------| 26.09% [24/92 00:20&lt;00:59 0.0779]

Epoch 1/1 : |██████████------------------------------| 27.17% [25/92 00:21&lt;00:58 0.0787]

Epoch 1/1 : |███████████-----------------------------| 28.26% [26/92 00:22&lt;00:57 0.0870]

Epoch 1/1 : |███████████-----------------------------| 29.35% [27/92 00:23&lt;00:56 0.0936]

Epoch 1/1 : |████████████----------------------------| 30.43% [28/92 00:24&lt;00:55 0.0901]

Epoch 1/1 : |████████████----------------------------| 31.52% [29/92 00:25&lt;00:55 0.0877]

Epoch 1/1 : |█████████████---------------------------| 32.61% [30/92 00:26&lt;00:54 0.0858]

Epoch 1/1 : |█████████████---------------------------| 33.70% [31/92 00:27&lt;00:53 0.0862]

Epoch 1/1 : |█████████████---------------------------| 34.78% [32/92 00:27&lt;00:52 0.0846]

Epoch 1/1 : |██████████████--------------------------| 35.87% [33/92 00:28&lt;00:51 0.0834]

Epoch 1/1 : |██████████████--------------------------| 36.96% [34/92 00:29&lt;00:50 0.0800]

Epoch 1/1 : |███████████████-------------------------| 38.04% [35/92 00:30&lt;00:49 0.0775]

Epoch 1/1 : |███████████████-------------------------| 39.13% [36/92 00:31&lt;00:49 0.0776]

Epoch 1/1 : |████████████████------------------------| 40.22% [37/92 00:32&lt;00:48 0.0774]

Epoch 1/1 : |████████████████------------------------| 41.30% [38/92 00:33&lt;00:47 0.0746]

Epoch 1/1 : |████████████████------------------------| 42.39% [39/92 00:34&lt;00:46 0.0730]

Epoch 1/1 : |█████████████████-----------------------| 43.48% [40/92 00:34&lt;00:45 0.0724]

Epoch 1/1 : |█████████████████-----------------------| 44.57% [41/92 00:35&lt;00:44 0.0707]

Epoch 1/1 : |██████████████████----------------------| 45.65% [42/92 00:36&lt;00:43 0.0715]

Epoch 1/1 : |██████████████████----------------------| 46.74% [43/92 00:37&lt;00:42 0.0758]

Epoch 1/1 : |███████████████████---------------------| 47.83% [44/92 00:38&lt;00:41 0.0735]

Epoch 1/1 : |███████████████████---------------------| 48.91% [45/92 00:39&lt;00:41 0.0711]

Epoch 1/1 : |████████████████████--------------------| 50.00% [46/92 00:40&lt;00:40 0.0746]

Epoch 1/1 : |████████████████████--------------------| 51.09% [47/92 00:41&lt;00:39 0.0724]

Epoch 1/1 : |████████████████████--------------------| 52.17% [48/92 00:41&lt;00:38 0.0704]

Epoch 1/1 : |█████████████████████-------------------| 53.26% [49/92 00:42&lt;00:37 0.0706]

Epoch 1/1 : |█████████████████████-------------------| 54.35% [50/92 00:43&lt;00:36 0.0730]

Epoch 1/1 : |██████████████████████------------------| 55.43% [51/92 00:44&lt;00:35 0.0755]

Epoch 1/1 : |██████████████████████------------------| 56.52% [52/92 00:45&lt;00:34 0.0802]

Epoch 1/1 : |███████████████████████-----------------| 57.61% [53/92 00:46&lt;00:34 0.0778]

Epoch 1/1 : |███████████████████████-----------------| 58.70% [54/92 00:47&lt;00:33 0.0767]

Epoch 1/1 : |███████████████████████-----------------| 59.78% [55/92 00:47&lt;00:32 0.0770]

Epoch 1/1 : |████████████████████████----------------| 60.87% [56/92 00:48&lt;00:31 0.0766]

Epoch 1/1 : |████████████████████████----------------| 61.96% [57/92 00:49&lt;00:30 0.0767]

Epoch 1/1 : |█████████████████████████---------------| 63.04% [58/92 00:50&lt;00:29 0.0755]

Epoch 1/1 : |█████████████████████████---------------| 64.13% [59/92 00:51&lt;00:28 0.0766]

Epoch 1/1 : |██████████████████████████--------------| 65.22% [60/92 00:52&lt;00:27 0.0758]

Epoch 1/1 : |██████████████████████████--------------| 66.30% [61/92 00:53&lt;00:27 0.0740]

Epoch 1/1 : |██████████████████████████--------------| 67.39% [62/92 00:54&lt;00:26 0.0789]

Epoch 1/1 : |███████████████████████████-------------| 68.48% [63/92 00:54&lt;00:25 0.0845]

Epoch 1/1 : |███████████████████████████-------------| 69.57% [64/92 00:55&lt;00:24 0.0822]

Epoch 1/1 : |████████████████████████████------------| 70.65% [65/92 00:56&lt;00:23 0.0806]

Epoch 1/1 : |████████████████████████████------------| 71.74% [66/92 00:57&lt;00:22 0.0784]

Epoch 1/1 : |█████████████████████████████-----------| 72.83% [67/92 00:58&lt;00:21 0.0771]

Epoch 1/1 : |█████████████████████████████-----------| 73.91% [68/92 00:59&lt;00:20 0.0766]

Epoch 1/1 : |██████████████████████████████----------| 75.00% [69/92 01:00&lt;00:20 0.0803]

Epoch 1/1 : |██████████████████████████████----------| 76.09% [70/92 01:01&lt;00:19 0.0800]

Epoch 1/1 : |██████████████████████████████----------| 77.17% [71/92 01:01&lt;00:18 0.0779]

Epoch 1/1 : |███████████████████████████████---------| 78.26% [72/92 01:02&lt;00:17 0.0839]

Epoch 1/1 : |███████████████████████████████---------| 79.35% [73/92 01:03&lt;00:16 0.0837]

Epoch 1/1 : |████████████████████████████████--------| 80.43% [74/92 01:04&lt;00:15 0.0815]

Epoch 1/1 : |████████████████████████████████--------| 81.52% [75/92 01:05&lt;00:14 0.0805]

Epoch 1/1 : |█████████████████████████████████-------| 82.61% [76/92 01:06&lt;00:13 0.0793]

Epoch 1/1 : |█████████████████████████████████-------| 83.70% [77/92 01:07&lt;00:13 0.0773]

Epoch 1/1 : |█████████████████████████████████-------| 84.78% [78/92 01:08&lt;00:12 0.0775]

Epoch 1/1 : |██████████████████████████████████------| 85.87% [79/92 01:09&lt;00:11 0.0756]

Epoch 1/1 : |██████████████████████████████████------| 86.96% [80/92 01:09&lt;00:10 0.0740]

Epoch 1/1 : |███████████████████████████████████-----| 88.04% [81/92 01:10&lt;00:09 0.0726]

Epoch 1/1 : |███████████████████████████████████-----| 89.13% [82/92 01:11&lt;00:08 0.0709]

Epoch 1/1 : |████████████████████████████████████----| 90.22% [83/92 01:12&lt;00:07 0.0699]

Epoch 1/1 : |████████████████████████████████████----| 91.30% [84/92 01:13&lt;00:06 0.0703]

Epoch 1/1 : |████████████████████████████████████----| 92.39% [85/92 01:14&lt;00:06 0.0687]

Epoch 1/1 : |█████████████████████████████████████---| 93.48% [86/92 01:15&lt;00:05 0.0732]

Epoch 1/1 : |█████████████████████████████████████---| 94.57% [87/92 01:16&lt;00:04 0.0714]

Epoch 1/1 : |██████████████████████████████████████--| 95.65% [88/92 01:16&lt;00:03 0.0697]

Epoch 1/1 : |██████████████████████████████████████--| 96.74% [89/92 01:17&lt;00:02 0.0682]

Epoch 1/1 : |███████████████████████████████████████-| 97.83% [90/92 01:18&lt;00:01 0.0682]

Epoch 1/1 : |███████████████████████████████████████-| 98.91% [91/92 01:19&lt;00:00 0.0782]

Epoch 1/1 : |████████████████████████████████████████| 100.00% [92/92 01:20&lt;00:00 0.0786]

Epoch 1/1 :                                                                              

Epoch 1/1 :                                                                              
█

Epoch 1/1 : |----------------------------------------| 0.00% [0/24 00:00&lt;?]

Epoch 1/1 : |█---------------------------------------| 4.17% [1/24 00:00&lt;00:08]

Epoch 1/1 : |███-------------------------------------| 8.33% [2/24 00:00&lt;00:07 0.0767]

Epoch 1/1 : |█████-----------------------------------| 12.50% [3/24 00:01&lt;00:07 0.0767]

Epoch 1/1 : |██████----------------------------------| 16.67% [4/24 00:01&lt;00:07 0.0767]

Epoch 1/1 : |████████--------------------------------| 20.83% [5/24 00:01&lt;00:06 0.0767]

Epoch 1/1 : |██████████------------------------------| 25.00% [6/24 00:02&lt;00:06 0.0767]

Epoch 1/1 : |███████████-----------------------------| 29.17% [7/24 00:02&lt;00:05 0.0767]

Epoch 1/1 : |█████████████---------------------------| 33.33% [8/24 00:02&lt;00:05 0.0767]

Epoch 1/1 : |███████████████-------------------------| 37.50% [9/24 00:03&lt;00:05 0.0767]

Epoch 1/1 : |████████████████------------------------| 41.67% [10/24 00:03&lt;00:04 0.0767]

Epoch 1/1 : |██████████████████----------------------| 45.83% [11/24 00:03&lt;00:04 0.0767]

Epoch 1/1 : |████████████████████--------------------| 50.00% [12/24 00:04&lt;00:04 0.0767]

Epoch 1/1 : |█████████████████████-------------------| 54.17% [13/24 00:04&lt;00:03 0.0767]

Epoch 1/1 : |███████████████████████-----------------| 58.33% [14/24 00:04&lt;00:03 0.0767]

Epoch 1/1 : |█████████████████████████---------------| 62.50% [15/24 00:05&lt;00:03 0.0767]

Epoch 1/1 : |██████████████████████████--------------| 66.67% [16/24 00:05&lt;00:02 0.0767]

Epoch 1/1 : |████████████████████████████------------| 70.83% [17/24 00:06&lt;00:02 0.0767]

Epoch 1/1 : |██████████████████████████████----------| 75.00% [18/24 00:06&lt;00:02 0.0767]

Epoch 1/1 : |███████████████████████████████---------| 79.17% [19/24 00:06&lt;00:01 0.0767]

Epoch 1/1 : |█████████████████████████████████-------| 83.33% [20/24 00:07&lt;00:01 0.0767]

Epoch 1/1 : |███████████████████████████████████-----| 87.50% [21/24 00:07&lt;00:01 0.0767]

Epoch 1/1 : |████████████████████████████████████----| 91.67% [22/24 00:07&lt;00:00 0.0767]

Epoch 1/1 : |██████████████████████████████████████--| 95.83% [23/24 00:08&lt;00:00 0.0767]

Epoch 1/1 : |████████████████████████████████████████| 100.00% [24/24 00:08&lt;00:00 0.0767]

Epoch 1/1 :                                                                              

Epoch 1/1 :                                                                              
0         0.076747    0.034090    0.011502    01:28     </code></pre>
</div>
</div>



 ]]></description>
  <category>Python</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-20-starting-with-fastai/2023-07-20-starting-with-fastai.html</guid>
  <pubDate>Wed, 19 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>The iris dataset</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset.html</link>
  <description><![CDATA[ 



<section id="init" class="level2">
<h2 class="anchored" data-anchor-id="init">Init</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tidyverse'</span>)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'lme4'</span>)</span></code></pre></div>
</div>
</section>
<section id="data-preparation" class="level2">
<h2 class="anchored" data-anchor-id="data-preparation">Data preparation</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">iris_long <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> iris <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">id =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">nrow</span>(iris)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">pivot_longer</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">cols =</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(Species, id), </span>
<span id="cb2-4">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">names_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Variable'</span>, </span>
<span id="cb2-5">               <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">values_to =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Value'</span>)</span></code></pre></div>
</div>
</section>
<section id="plots" class="level2">
<h2 class="anchored" data-anchor-id="plots">Plots</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1">iris_long <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb3-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(Variable, Value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> Species)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb3-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_boxplot</span>()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_plots-1.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">last_plot</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_log10</span>() </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_plots-2.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1">iris_long <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb5-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(Variable, Value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> Species)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb5-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_jitter</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_plots-3.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">last_plot</span>() <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">scale_y_log10</span>() </span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_plots-4.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="models" class="level2">
<h2 class="anchored" data-anchor-id="models">Models</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1">fitted_model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb7-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(Value <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> Variable, </span>
<span id="cb7-3">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris_long)</span>
<span id="cb7-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anova</span>(fitted_model)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: Value
                  Df  Sum Sq Mean Sq F value    Pr(&gt;F)    
Species            2  309.61  154.80 1019.34 &lt; 2.2e-16 ***
Variable           3 1656.26  552.09 3635.35 &lt; 2.2e-16 ***
Species:Variable   6  282.47   47.08  309.99 &lt; 2.2e-16 ***
Residuals        588   89.30    0.15                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(fitted_model, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> iris_long<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Species)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_models-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_models-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_models-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_models-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1">fitted_model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb10-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log</span>(Value) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> Variable, </span>
<span id="cb10-3">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris_long)</span>
<span id="cb10-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">anova</span>(fitted_model)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Analysis of Variance Table

Response: log(Value)
                  Df  Sum Sq Mean Sq F value    Pr(&gt;F)    
Species            2  90.843  45.421 1772.90 &lt; 2.2e-16 ***
Variable           3 297.393  99.131 3869.31 &lt; 2.2e-16 ***
Species:Variable   6  95.977  15.996  624.37 &lt; 2.2e-16 ***
Residuals        588  15.064   0.026                      
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(fitted_model, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> iris_long<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>Species)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_models-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_models-6.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_models-7.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset_files/figure-html/iris_models-8.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">fitted_model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> </span>
<span id="cb13-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lmer</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">log</span>(Value) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> Species <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> Variable <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> id),</span>
<span id="cb13-3">     <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> iris_long)</span>
<span id="cb13-4">fitted_model</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: log(Value) ~ Species * Variable + (1 | id)
   Data: iris_long
REML criterion at convergence: -496.6563
Random effects:
 Groups   Name        Std.Dev.
 id       (Intercept) 0.08565 
 Residual             0.13522 
Number of obs: 600, groups:  id, 150
Fixed Effects:
                           (Intercept)                       Speciesversicolor  
                                0.3728                                  1.0702  
                      Speciesvirginica                     VariablePetal.Width  
                                1.3367                                 -1.8574  
                  VariableSepal.Length                     VariableSepal.Width  
                                1.2354                                  0.8531  
 Speciesversicolor:VariablePetal.Width    Speciesvirginica:VariablePetal.Width  
                                0.6854                                  0.8447  
Speciesversicolor:VariableSepal.Length   Speciesvirginica:VariableSepal.Length  
                               -0.9011                                 -1.0642  
 Speciesversicolor:VariableSepal.Width    Speciesvirginica:VariableSepal.Width  
                               -1.2837                                 -1.4783  </code></pre>
</div>
</div>
</section>
<section id="conclusion" class="level2">
<h2 class="anchored" data-anchor-id="conclusion">Conclusion</h2>
<ul>
<li>In general, I like the log scale modeling - however there is a problem with the model on log scale
<ul>
<li>Effects can be given as fold-changes - this seems to make sense to me</li>
<li>Species “setosa” is not fitted adequately on log scale - probably measurement error is not adequately modeled on log scale - higher variance of error on log scale</li>
</ul></li>
<li>Dependence on individual level is not considered in the plain linear model
<ul>
<li>Linear mixed model should be considered!!!</li>
</ul></li>
</ul>


</section>

 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-12-the-iris-dataset/2023-07-12-the-iris-dataset.html</guid>
  <pubDate>Tue, 11 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Easier publishing</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-12-easier-publishing/2023-07-12-easier-publishing.html</link>
  <description><![CDATA[ 



<ul>
<li>File “/usr/local/bin/pq”:</li>
</ul>
<pre><code>#!   /bin/bash -e
quarto render
git add .
git commit -m "some changes"
git push</code></pre>
<ul>
<li>chmod +x /usr/local/bin/pq</li>
</ul>



 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-12-easier-publishing/2023-07-12-easier-publishing.html</guid>
  <pubDate>Tue, 11 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Model diagnostics for logistic regression</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression.html</link>
  <description><![CDATA[ 



<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tidyverse'</span>)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'faraway'</span>)</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">set.seed</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span>
<span id="cb2-2">dat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x1 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(n), </span>
<span id="cb2-3">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x2 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(n),</span>
<span id="cb2-4">              <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x3 =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(n),)</span>
<span id="cb2-5"></span>
<span id="cb2-6">X <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">model.matrix</span>(<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> ., <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dat)</span>
<span id="cb2-7">beta <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ncol</span>(X))</span>
<span id="cb2-8"></span>
<span id="cb2-9"></span>
<span id="cb2-10"></span>
<span id="cb2-11">dat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-12">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mu =</span> X <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">%*%</span> beta,</span>
<span id="cb2-13">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">p =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plogis</span>(mu),</span>
<span id="cb2-14">         <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">result =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rbinom</span>(n, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, p))</span>
<span id="cb2-15"></span>
<span id="cb2-16">fitted_model <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">glm</span>(result <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> x1 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> x2 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> x3, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dat, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">family =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">binomial</span>())</span>
<span id="cb2-17"></span>
<span id="cb2-18"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">plot</span>(fitted_model)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression_files/figure-html/unnamed-chunk-2-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression_files/figure-html/unnamed-chunk-2-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression_files/figure-html/unnamed-chunk-2-4.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prplot</span>(fitted_model, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression_files/figure-html/unnamed-chunk-2-5.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prplot</span>(fitted_model, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression_files/figure-html/unnamed-chunk-2-6.png" class="img-fluid" width="672"></p>
</div>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">prplot</span>(fitted_model, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression_files/figure-html/unnamed-chunk-2-7.png" class="img-fluid" width="672"></p>
</div>
</div>



 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-12-model-diagnostics-for-logistic-regression/2023-07-12-model-diagnostics-for-logistic-regression.html</guid>
  <pubDate>Tue, 11 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Pie chart</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-12-pie-chart/2023-07-12-pie-chart.html</link>
  <description><![CDATA[ 



<p>To build a simple pie chart:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'tidyverse'</span>)</span>
<span id="cb1-2"></span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(ggplot2)</span>
<span id="cb1-4"></span>
<span id="cb1-5">df <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">data.frame</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">value =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">23</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">15</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">18</span>),</span>
<span id="cb1-6">                 <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">Group =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">paste0</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"G"</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>))</span>
<span id="cb1-7"></span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(df, <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">x =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">""</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> value, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">fill =</span> Group)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-9">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_col</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"black"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-10">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ylab</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb1-11">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_text</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">label =</span> value),</span>
<span id="cb1-12">            <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">position =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">position_stack</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">vjust =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.5</span>)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb1-13">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">coord_polar</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">theta =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"y"</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb1-14">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">theme</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.text =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb1-15">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">axis.ticks =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>(),</span>
<span id="cb1-16">        <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">panel.grid  =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">element_blank</span>())</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-12-pie-chart/2023-07-12-pie-chart_files/figure-html/init-1.png" class="img-fluid" width="672"></p>
</div>
</div>



 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-12-pie-chart/2023-07-12-pie-chart.html</guid>
  <pubDate>Tue, 11 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Managing python versions in RStudio</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-06-python-versions-environments/2023-07-06-python-versions-environments.html</link>
  <description><![CDATA[ 



<section id="ressources" class="level1">
<h1>Ressources</h1>
<ul>
<li>Good resources are found in the {reticulate} vignettes: <a href="https://cran.r-project.org/web/packages/reticulate/index.html">Link</a>, in particular <a href="https://cran.r-project.org/web/packages/reticulate/vignettes/versions.html">this</a></li>
</ul>
</section>
<section id="managing-python-installation" class="level1">
<h1>Managing python installation</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'reticulate'</span>)</span>
<span id="cb1-2"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">py_discover_config</span>()</span>
<span id="cb1-3"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">py_config</span>()</span>
<span id="cb1-4"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">conda_list</span>()</span>
<span id="cb1-5"></span>
<span id="cb1-6"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">conda_version</span>()</span>
<span id="cb1-7"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">configure_environment</span>()</span>
<span id="cb1-8"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">conda_create</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sbloggel'</span>)</span>
<span id="cb1-9"></span>
<span id="cb1-10"></span>
<span id="cb1-11"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">conda_install</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sbloggel'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pandas'</span>)</span>
<span id="cb1-12"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">miniconda_update</span>()</span>
<span id="cb1-13"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">use_condaenv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sbloggel'</span>)</span>
<span id="cb1-14"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">conda_install</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sbloggel'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'plotly'</span>)</span>
<span id="cb1-15"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">use_condaenv</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'base'</span>)</span></code></pre></div>
</div>
</section>
<section id="install-virtual-environments-to-jupyter" class="level1">
<h1>Install virtual environments to jupyter</h1>
<ul>
<li><a href="https://janakiev.com/blog/jupyter-virtual-envs/">Link</a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Prepare python to enable installation of virtual environments in Jupyter:</span></span>
<span id="cb2-2"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">pip</span> install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--user</span> ipykernel</span>
<span id="cb2-3"></span>
<span id="cb2-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Show conda environments and activate:</span></span>
<span id="cb2-5"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">conda</span> info <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--envs</span>  </span>
<span id="cb2-6"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">conda</span> activate sbloggel</span>
<span id="cb2-7"></span>
<span id="cb2-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Install virtual environment into jupyter:</span></span>
<span id="cb2-9"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">python</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">-m</span> ipykernel install <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--user</span> <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">--name</span><span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>sbloggel</span>
<span id="cb2-10"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">conda</span> activate /Users/seb/Library/r-miniconda-arm64/envs/sbloggel  </span></code></pre></div>
</div>
<p>Start Jupyter from terminal:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><span class="ex" style="color: null;
background-color: null;
font-style: inherit;">jupyter</span> notebook</span></code></pre></div>
</div>


</section>

 ]]></description>
  <category>Python</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-06-python-versions-environments/2023-07-06-python-versions-environments.html</guid>
  <pubDate>Tue, 04 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Python graphics</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-05-python-graphics/2023-07-05-python-graphics.html</link>
  <description><![CDATA[ 



<section id="init" class="level1">
<h1>Init</h1>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb1-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> seaborn <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sns</span>
<span id="cb1-4"></span>
<span id="cb1-5">sns.get_dataset_names()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['anagrams', 'anscombe', 'attention', 'brain_networks', 'car_crashes', 'diamonds', 'dots', 'dowjones', 'exercise', 'flights', 'fmri', 'geyser', 'glue', 'healthexp', 'iris', 'mpg', 'penguins', 'planets', 'seaice', 'taxis', 'tips', 'titanic']</code></pre>
</div>
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">iris <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.load_dataset(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'iris'</span>)</span></code></pre></div>
</div>
</section>
<section id="setting-figure-sizes" class="level1">
<h1>Setting figure sizes</h1>
<section id="matplotlib" class="level2">
<h2 class="anchored" data-anchor-id="matplotlib">Matplotlib</h2>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1">plt.rcParams[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'figure.figsize'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">12</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>]</span>
<span id="cb4-2">fig, ax <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plt.subplots()</span>
<span id="cb4-3">ax.set_xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sepal length'</span>)</span>
<span id="cb4-4">ax.set_ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sepal width'</span>)</span>
<span id="cb4-5">ax.set_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Iris dataset'</span>)</span>
<span id="cb4-6">ax.scatter(iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sepal_length'</span>], iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sepal_width'</span>])</span>
<span id="cb4-7">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-05-python-graphics/2023-07-05-python-graphics_files/figure-html/unnamed-chunk-3-1.png" class="img-fluid" width="1152"></p>
</div>
</div>
</section>
<section id="seaborn" class="level2">
<h2 class="anchored" data-anchor-id="seaborn">Seaborn</h2>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1">g <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.FacetGrid(iris, col <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'species'</span>, col_wrap <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, height <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, aspect <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)</span>
<span id="cb5-2">g <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> g.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">map</span>(plt.scatter, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sepal_length'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sepal_width'</span>)</span>
<span id="cb5-3">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-05-python-graphics/2023-07-05-python-graphics_files/figure-html/unnamed-chunk-4-3.png" class="img-fluid figure-img" width="384"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1">plt.close()</span></code></pre></div>
</div>
</section>
</section>
<section id="seaborn-examples" class="level1">
<h1>Seaborn examples</h1>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1">plt.figure(figsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>))</span>
<span id="cb7-2">g <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.scatterplot(data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> iris, </span>
<span id="cb7-3">                    x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sepal_length'</span>, </span>
<span id="cb7-4">                    y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'petal_width'</span>, </span>
<span id="cb7-5">                    hue <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'species'</span>)</span>
<span id="cb7-6">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-05-python-graphics/2023-07-05-python-graphics_files/figure-html/unnamed-chunk-5-5.png" class="img-fluid figure-img" width="576"></p>
</figure>
</div>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1">plt.close()</span></code></pre></div>
</div>
</section>
<section id="plotly-examples" class="level1">
<h1>Plotly examples</h1>
<div class="cell" data-layout-align="center">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># x and y given as array_like objects</span></span>
<span id="cb9-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> plotly.express <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> px</span>
<span id="cb9-3">fig <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> px.scatter(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>], y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span>], width <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">800</span>, height <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">800</span>)</span>
<span id="cb9-4">fig.show()</span></code></pre></div>
<div class="cell-output-display">

<div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-2.24.1.min.js"></script>                <div id="1f0ab6ed-1a98-4c1a-b172-3c7ed3bae678" class="plotly-graph-div" style="height:800px; width:800px;"></div>            <script type="text/javascript">                                    window.PLOTLYENV=window.PLOTLYENV || {};                                    if (document.getElementById("1f0ab6ed-1a98-4c1a-b172-3c7ed3bae678")) {                    Plotly.newPlot(                        "1f0ab6ed-1a98-4c1a-b172-3c7ed3bae678",                        [{"hovertemplate":"x=%{x}\u003cbr\u003ey=%{y}\u003cextra\u003e\u003c\u002fextra\u003e","legendgroup":"","marker":{"color":"#636efa","symbol":"circle"},"mode":"markers","name":"","orientation":"v","showlegend":false,"x":[0,1,2,3,4],"xaxis":"x","y":[0,1,4,9,25],"yaxis":"y","type":"scatter"}],                        {"template":{"data":{"histogram2dcontour":[{"type":"histogram2dcontour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"choropleth":[{"type":"choropleth","colorbar":{"outlinewidth":0,"ticks":""}}],"histogram2d":[{"type":"histogram2d","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmap":[{"type":"heatmap","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"heatmapgl":[{"type":"heatmapgl","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"contourcarpet":[{"type":"contourcarpet","colorbar":{"outlinewidth":0,"ticks":""}}],"contour":[{"type":"contour","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"surface":[{"type":"surface","colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]}],"mesh3d":[{"type":"mesh3d","colorbar":{"outlinewidth":0,"ticks":""}}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"parcoords":[{"type":"parcoords","line":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolargl":[{"type":"scatterpolargl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"scattergeo":[{"type":"scattergeo","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterpolar":[{"type":"scatterpolar","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"scattergl":[{"type":"scattergl","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatter3d":[{"type":"scatter3d","line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattermapbox":[{"type":"scattermapbox","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scatterternary":[{"type":"scatterternary","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"scattercarpet":[{"type":"scattercarpet","marker":{"colorbar":{"outlinewidth":0,"ticks":""}}}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"white","linecolor":"white","minorgridcolor":"white","startlinecolor":"#2a3f5f"},"type":"carpet"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}],"barpolar":[{"marker":{"line":{"color":"#E5ECF6","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"pie":[{"automargin":true,"type":"pie"}]},"layout":{"autotypenumbers":"strict","colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"hovermode":"closest","hoverlabel":{"align":"left"},"paper_bgcolor":"white","plot_bgcolor":"#E5ECF6","polar":{"bgcolor":"#E5ECF6","angularaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"radialaxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"ternary":{"bgcolor":"#E5ECF6","aaxis":{"gridcolor":"white","linecolor":"white","ticks":""},"baxis":{"gridcolor":"white","linecolor":"white","ticks":""},"caxis":{"gridcolor":"white","linecolor":"white","ticks":""}},"coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]]},"xaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"yaxis":{"gridcolor":"white","linecolor":"white","ticks":"","title":{"standoff":15},"zerolinecolor":"white","automargin":true,"zerolinewidth":2},"scene":{"xaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"yaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2},"zaxis":{"backgroundcolor":"#E5ECF6","gridcolor":"white","linecolor":"white","showbackground":true,"ticks":"","zerolinecolor":"white","gridwidth":2}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"geo":{"bgcolor":"white","landcolor":"#E5ECF6","subunitcolor":"white","showland":true,"showlakes":true,"lakecolor":"white"},"title":{"x":0.05},"mapbox":{"style":"light"}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"x"}},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"y"}},"legend":{"tracegroupgap":0},"margin":{"t":60},"height":800,"width":800},                        {"responsive": true}                    )                };                            </script>        </div>
</div>
</div>


</section>

 ]]></description>
  <category>Python</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-05-python-graphics/2023-07-05-python-graphics.html</guid>
  <pubDate>Tue, 04 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Exploring the Python library statsmodels</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-04-python-statsmodels/2023-07-04-python-statsmodels.html</link>
  <description><![CDATA[ 



<section id="plot_fit" class="level2">
<h2 class="anchored" data-anchor-id="plot_fit">plot_fit</h2>
<ul>
<li><a href="https://www.statsmodels.org/dev/generated/statsmodels.graphics.regressionplots.plot_fit.html">Link</a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb1-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> numpy <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> np</span>
<span id="cb1-3"></span>
<span id="cb1-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sm</span>
<span id="cb1-5"></span>
<span id="cb1-6">data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.datasets.statecrime.load_pandas().data</span>
<span id="cb1-7">murder <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> data[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'murder'</span>]</span>
<span id="cb1-8">X <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> data[[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'poverty'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'hs_grad'</span>]].copy()</span>
<span id="cb1-9">X[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'constant'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb1-10"></span>
<span id="cb1-11">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> murder</span>
<span id="cb1-12">model <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.OLS(y, X)</span>
<span id="cb1-13">results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> model.fit()</span>
<span id="cb1-14"></span>
<span id="cb1-15"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Create a plot just for the variable 'Poverty':</span></span>
<span id="cb1-16"></span>
<span id="cb1-17">fig, ax <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plt.subplots()</span>
<span id="cb1-18">fig <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.graphics.plot_fit(results, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, ax<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ax)</span>
<span id="cb1-19">ax.set_ylabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Murder Rate"</span>)</span>
<span id="cb1-20">ax.set_xlabel(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Poverty Level"</span>)</span>
<span id="cb1-21">ax.set_title(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Linear Regression"</span>)</span>
<span id="cb1-22"></span>
<span id="cb1-23">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-04-python-statsmodels/2023-07-04-python-statsmodels_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="plot_regress_exog" class="level2">
<h2 class="anchored" data-anchor-id="plot_regress_exog">plot_regress_exog</h2>
<ul>
<li><a href="https://www.statsmodels.org/dev/generated/statsmodels.graphics.regressionplots.plot_regress_exog.html#">Link</a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb2-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sm</span>
<span id="cb2-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb2-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.formula.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> smf</span>
<span id="cb2-4"></span>
<span id="cb2-5"></span>
<span id="cb2-6">fig <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plt.figure(figsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>))</span>
<span id="cb2-7">crime_data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.datasets.statecrime.load_pandas()</span>
<span id="cb2-8">results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> smf.ols(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'murder ~ hs_grad + urban + poverty + single'</span>,</span>
<span id="cb2-9">                   data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>crime_data.data).fit()</span>
<span id="cb2-10">sm.graphics.plot_regress_exog(results, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'poverty'</span>, fig<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>fig)</span>
<span id="cb2-11">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-04-python-statsmodels/2023-07-04-python-statsmodels_files/figure-html/unnamed-chunk-3-3.png" class="img-fluid" width="768"></p>
</div>
</div>
</section>
<section id="plot_partregress" class="level2">
<h2 class="anchored" data-anchor-id="plot_partregress">plot_partregress</h2>
<ul>
<li><a href="https://www.statsmodels.org/dev/generated/statsmodels.graphics.regressionplots.plot_partregress.html">Link</a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">crime_data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.datasets.statecrime.load_pandas()</span>
<span id="cb3-2">sm.graphics.plot_partregress(endog<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'murder'</span>, exog_i<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'hs_grad'</span>,</span>
<span id="cb3-3">                              exog_others<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'urban'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'poverty'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'single'</span>],</span>
<span id="cb3-4">                              data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>crime_data.data, obs_labels<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb3-5">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-04-python-statsmodels/2023-07-04-python-statsmodels_files/figure-html/unnamed-chunk-4-5.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="plot_partregress_grid" class="level2">
<h2 class="anchored" data-anchor-id="plot_partregress_grid">plot_partregress_grid</h2>
<ul>
<li><a href="https://www.statsmodels.org/dev/generated/statsmodels.graphics.regressionplots.plot_partregress_grid.html">Link</a></li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb4-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb4-2"></span>
<span id="cb4-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sm</span>
<span id="cb4-4"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.formula.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> smf</span>
<span id="cb4-5"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">from</span> statsmodels.graphics.regressionplots <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> plot_partregress_grid</span>
<span id="cb4-6"></span>
<span id="cb4-7">fig <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plt.figure(figsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">6</span>))</span>
<span id="cb4-8">crime_data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.datasets.statecrime.load_pandas()</span>
<span id="cb4-9">results <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> smf.ols(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'murder ~ hs_grad + urban + poverty + single'</span>,</span>
<span id="cb4-10">                  data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>crime_data.data).fit()</span>
<span id="cb4-11">plot_partregress_grid(results, fig<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>fig)</span>
<span id="cb4-12">plt.show()</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-04-python-statsmodels/2023-07-04-python-statsmodels_files/figure-html/unnamed-chunk-5-7.png" class="img-fluid" width="768"></p>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> statsmodels.api <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sm</span>
<span id="cb5-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas</span>
<span id="cb5-3">df <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.datasets.get_rdataset(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Guerry"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"HistData"</span>).data</span>
<span id="cb5-4"></span>
<span id="cb5-5">fm <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.formula.ols(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Lottery ~ Literacy + Wealth + C(Region)'</span>, data <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> df).fit()</span>
<span id="cb5-6"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(fm.summary())</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                            OLS Regression Results                            
==============================================================================
Dep. Variable:                Lottery   R-squared:                       0.338
Model:                            OLS   Adj. R-squared:                  0.287
Method:                 Least Squares   F-statistic:                     6.636
Date:                Mon, 10 Jul 2023   Prob (F-statistic):           1.07e-05
Time:                        10:37:19   Log-Likelihood:                -375.30
No. Observations:                  85   AIC:                             764.6
Df Residuals:                      78   BIC:                             781.7
Df Model:                           6                                         
Covariance Type:            nonrobust                                         
==================================================================================
                     coef    std err          t      P&gt;|t|      [0.025      0.975]
----------------------------------------------------------------------------------
Intercept         38.6517      9.456      4.087      0.000      19.826      57.478
C(Region)[T.E]   -15.4278      9.727     -1.586      0.117     -34.793       3.938
C(Region)[T.N]   -10.0170      9.260     -1.082      0.283     -28.453       8.419
C(Region)[T.S]    -4.5483      7.279     -0.625      0.534     -19.039       9.943
C(Region)[T.W]   -10.0913      7.196     -1.402      0.165     -24.418       4.235
Literacy          -0.1858      0.210     -0.886      0.378      -0.603       0.232
Wealth             0.4515      0.103      4.390      0.000       0.247       0.656
==============================================================================
Omnibus:                        3.049   Durbin-Watson:                   1.785
Prob(Omnibus):                  0.218   Jarque-Bera (JB):                2.694
Skew:                          -0.340   Prob(JB):                        0.260
Kurtosis:                       2.454   Cond. No.                         371.
==============================================================================

Notes:
[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1"></span>
<span id="cb7-2">fig <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sm.graphics.influence_plot(fm, criterion<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"cooks"</span>)</span>
<span id="cb7-3">fig.show()</span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> seaborn <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sns</span>
<span id="cb8-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb8-3">sns.set_theme(style<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"whitegrid"</span>)</span>
<span id="cb8-4"></span>
<span id="cb8-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load the example diamonds dataset</span></span>
<span id="cb8-6">diamonds <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.load_dataset(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"diamonds"</span>)</span>
<span id="cb8-7"></span>
<span id="cb8-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Draw a scatter plot while assigning point colors and sizes to different</span></span>
<span id="cb8-9"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># variables in the dataset</span></span>
<span id="cb8-10">f, ax <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plt.subplots(figsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.5</span>, <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">6.5</span>))</span>
<span id="cb8-11">sns.despine(f, left<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>, bottom<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb8-12">clarity_ranking <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"I1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SI2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SI1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VS2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VS1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VVS2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VVS1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"IF"</span>]</span>
<span id="cb8-13">sns.scatterplot(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"carat"</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"price"</span>,</span>
<span id="cb8-14">                hue<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"clarity"</span>, size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"depth"</span>,</span>
<span id="cb8-15">                palette<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ch:r=-.2,d=.3_r"</span>,</span>
<span id="cb8-16">                hue_order<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>clarity_ranking,</span>
<span id="cb8-17">                sizes<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>), linewidth<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb8-18">                data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>diamonds, ax<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ax)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-07-04-python-statsmodels/2023-07-04-python-statsmodels_files/figure-html/unnamed-chunk-7-9.png" class="img-fluid" width="624"></p>
</div>
</div>


</section>

 ]]></description>
  <category>Python</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-04-python-statsmodels/2023-07-04-python-statsmodels.html</guid>
  <pubDate>Mon, 03 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Python pandas</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-07-03-python-pandas/2023-07-03-python-pandas.html</link>
  <description><![CDATA[ 



<ul>
<li>pandas - <a href="https://pandas.pydata.org/docs/getting_started/intro_tutorials/">Tutorials</a></li>
<li>Access R in Python chunk:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1">r[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"mtcars"</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                      mpg  cyl   disp     hp  drat  ...   qsec   vs   am  gear  carb
Mazda RX4            21.0  6.0  160.0  110.0  3.90  ...  16.46  0.0  1.0   4.0   4.0
Mazda RX4 Wag        21.0  6.0  160.0  110.0  3.90  ...  17.02  0.0  1.0   4.0   4.0
Datsun 710           22.8  4.0  108.0   93.0  3.85  ...  18.61  1.0  1.0   4.0   1.0
Hornet 4 Drive       21.4  6.0  258.0  110.0  3.08  ...  19.44  1.0  0.0   3.0   1.0
Hornet Sportabout    18.7  8.0  360.0  175.0  3.15  ...  17.02  0.0  0.0   3.0   2.0
Valiant              18.1  6.0  225.0  105.0  2.76  ...  20.22  1.0  0.0   3.0   1.0
Duster 360           14.3  8.0  360.0  245.0  3.21  ...  15.84  0.0  0.0   3.0   4.0
Merc 240D            24.4  4.0  146.7   62.0  3.69  ...  20.00  1.0  0.0   4.0   2.0
Merc 230             22.8  4.0  140.8   95.0  3.92  ...  22.90  1.0  0.0   4.0   2.0
Merc 280             19.2  6.0  167.6  123.0  3.92  ...  18.30  1.0  0.0   4.0   4.0
Merc 280C            17.8  6.0  167.6  123.0  3.92  ...  18.90  1.0  0.0   4.0   4.0
Merc 450SE           16.4  8.0  275.8  180.0  3.07  ...  17.40  0.0  0.0   3.0   3.0
Merc 450SL           17.3  8.0  275.8  180.0  3.07  ...  17.60  0.0  0.0   3.0   3.0
Merc 450SLC          15.2  8.0  275.8  180.0  3.07  ...  18.00  0.0  0.0   3.0   3.0
Cadillac Fleetwood   10.4  8.0  472.0  205.0  2.93  ...  17.98  0.0  0.0   3.0   4.0
Lincoln Continental  10.4  8.0  460.0  215.0  3.00  ...  17.82  0.0  0.0   3.0   4.0
Chrysler Imperial    14.7  8.0  440.0  230.0  3.23  ...  17.42  0.0  0.0   3.0   4.0
Fiat 128             32.4  4.0   78.7   66.0  4.08  ...  19.47  1.0  1.0   4.0   1.0
Honda Civic          30.4  4.0   75.7   52.0  4.93  ...  18.52  1.0  1.0   4.0   2.0
Toyota Corolla       33.9  4.0   71.1   65.0  4.22  ...  19.90  1.0  1.0   4.0   1.0
Toyota Corona        21.5  4.0  120.1   97.0  3.70  ...  20.01  1.0  0.0   3.0   1.0
Dodge Challenger     15.5  8.0  318.0  150.0  2.76  ...  16.87  0.0  0.0   3.0   2.0
AMC Javelin          15.2  8.0  304.0  150.0  3.15  ...  17.30  0.0  0.0   3.0   2.0
Camaro Z28           13.3  8.0  350.0  245.0  3.73  ...  15.41  0.0  0.0   3.0   4.0
Pontiac Firebird     19.2  8.0  400.0  175.0  3.08  ...  17.05  0.0  0.0   3.0   2.0
Fiat X1-9            27.3  4.0   79.0   66.0  4.08  ...  18.90  1.0  1.0   4.0   1.0
Porsche 914-2        26.0  4.0  120.3   91.0  4.43  ...  16.70  0.0  1.0   5.0   2.0
Lotus Europa         30.4  4.0   95.1  113.0  3.77  ...  16.90  1.0  1.0   5.0   2.0
Ford Pantera L       15.8  8.0  351.0  264.0  4.22  ...  14.50  0.0  1.0   5.0   4.0
Ferrari Dino         19.7  6.0  145.0  175.0  3.62  ...  15.50  0.0  1.0   5.0   6.0
Maserati Bora        15.0  8.0  301.0  335.0  3.54  ...  14.60  0.0  1.0   5.0   8.0
Volvo 142E           21.4  4.0  121.0  109.0  4.11  ...  18.60  1.0  1.0   4.0   2.0

[32 rows x 11 columns]</code></pre>
</div>
</div>
<ul>
<li>Access Python object in R chunk</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">xyz <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(reticulate)</span>
<span id="cb4-2">py<span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">$</span>xyz</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 10</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb6-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> pandas <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> pd</span>
<span id="cb6-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb6-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> seaborn <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sns</span>
<span id="cb6-4"></span>
<span id="cb6-5">iris <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> pd.read_csv(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'iris.csv'</span>)</span>
<span id="cb6-6">iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sepal.Length'</span>].describe()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>count    150.000000
mean       5.843333
std        0.828066
min        4.300000
25%        5.100000
50%        5.800000
75%        6.400000
max        7.900000
Name: Sepal.Length, dtype: float64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb8" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb8-1">iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sepal.Width'</span>].describe()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>count    150.000000
mean       3.057333
std        0.435866
min        2.000000
25%        2.800000
50%        3.000000
75%        3.300000
max        4.400000
Name: Sepal.Width, dtype: float64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb10-1">iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'total_length'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sepal.Length'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Sepal.Width'</span>]</span>
<span id="cb10-2">iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'total_length'</span>].describe()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>count    150.000000
mean       8.900667
std        0.889272
min        6.800000
25%        8.300000
50%        8.850000
75%        9.575000
max       11.700000
Name: total_length, dtype: float64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb12-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># two identical results:</span></span>
<span id="cb12-2">iris.loc[iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'total_length'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'total_length'</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>15     10.1
50     10.2
102    10.1
105    10.6
107    10.2
109    10.8
117    11.5
118    10.3
120    10.1
122    10.5
125    10.4
129    10.2
130    10.2
131    11.7
135    10.7
Name: total_length, dtype: float64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb14-1">iris[iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'total_length'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>][<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'total_length'</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>15     10.1
50     10.2
102    10.1
105    10.6
107    10.2
109    10.8
117    11.5
118    10.3
120    10.1
122    10.5
125    10.4
129    10.2
130    10.2
131    11.7
135    10.7
Name: total_length, dtype: float64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb16-1"></span>
<span id="cb16-2">iris.loc[iris[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'total_length'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'total_length'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span></span></code></pre></div>
</div>



 ]]></description>
  <category>Python</category>
  <guid>https://sbloggel.netlify.app/posts/2023-07-03-python-pandas/2023-07-03-python-pandas.html</guid>
  <pubDate>Sun, 02 Jul 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Specifying mixed effects in lme4</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-06-08-specifying-mixed-effects-models/2023-06-08-specifying-mixed-effects-models.html</link>
  <description><![CDATA[ 



<section id="description-of-trial" class="level2">
<h2 class="anchored" data-anchor-id="description-of-trial">Description of trial</h2>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?n"> individuals (<img src="https://latex.codecogs.com/png.latex?i%20=%201,%202,%20..,%20n">) are measured <img src="https://latex.codecogs.com/png.latex?m"> times (<img src="https://latex.codecogs.com/png.latex?j%20=%201,%202,%20...,%20m">) pre-intervention (denoted <img src="https://latex.codecogs.com/png.latex?y_%7Bij%7D%5E%7Bpre%7D">) and post-intervention (denoted <img src="https://latex.codecogs.com/png.latex?y_%7Bij%7D%5E%7Bpost%7D">)</li>
</ul>
</section>
<section id="underlying-probability-model" class="level2">
<h2 class="anchored" data-anchor-id="underlying-probability-model">Underlying probability model</h2>
<section id="notation" class="level3">
<h3 class="anchored" data-anchor-id="notation">Notation</h3>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Cbeta_0"> fixed effect intercept</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cbeta_1"> fixed effect of intervention</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cepsilon%20%5Csim%20%5Cmathcal%7BN%7D(%5Cmu%20=%200,%20sd%20=%20%5Csigma_0)">, for reasons of better legibility sub- and superscript are omitted here</li>
<li><img src="https://latex.codecogs.com/png.latex?b_%7B1,i%7D"> random effect baseline, <img src="https://latex.codecogs.com/png.latex?b_%7B1,i%7D%20%5Csim%20%5Cmathcal%7BN%7D(%5Cmu%20=%200,%20sd%20=%20%5Csigma_1)"></li>
<li><img src="https://latex.codecogs.com/png.latex?b_%7B2,i%7D"> random effect of intervention, <img src="https://latex.codecogs.com/png.latex?b_%7B2,i%7D%20%5Csim%20%5Cmathcal%7BN%7D(%5Cmu%20=%200,%20sd%20=%20%5Csigma_2)"></li>
</ul>
</section>
<section id="parameters-of-the-model-to-be-estimated" class="level3">
<h3 class="anchored" data-anchor-id="parameters-of-the-model-to-be-estimated">Parameters of the model to be estimated</h3>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Cbeta_0">, <img src="https://latex.codecogs.com/png.latex?%5Cbeta_1">, <img src="https://latex.codecogs.com/png.latex?%5Csigma_0">, <img src="https://latex.codecogs.com/png.latex?%5Csigma_1"> and <img src="https://latex.codecogs.com/png.latex?%5Csigma_2"></li>
</ul>
</section>
<section id="model-equations" class="level3">
<h3 class="anchored" data-anchor-id="model-equations">Model equations</h3>
<ul>
<li>Measurement pre intervention: <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Balign%7D%0Ay_%7Bij%7D%5E%7Bpre%7D%20=%20%5Cbeta_0%20+%20b_i%20+%20%5Cepsilon_%7Bij%7D%5E%7Bpre%7D%0A%5Cend%7Balign%7D"></li>
<li>Measurement post-intervention: <img src="https://latex.codecogs.com/png.latex?%5Cbegin%7Balign%7D%0Ay_%7Bij%7D%5E%7Bpost%7D%20=%20%5Cbeta_0%20+%20%5Cbeta_1%20+%20b_%7B1,i%7D%20+%20b_%7B2,i%7D%20+%20%5Cepsilon_%7Bij%7D%5E%7Bpost%7D%0A%5Cend%7Balign%7D"></li>
</ul>
</section>
<section id="simulate-data" class="level3">
<h3 class="anchored" data-anchor-id="simulate-data">Simulate data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># size of sample:</span></span>
<span id="cb1-2">n <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">20</span></span>
<span id="cb1-3">m <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb1-4"></span>
<span id="cb1-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># model parameters:</span></span>
<span id="cb1-6">beta_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span></span>
<span id="cb1-7">beta_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb1-8">sigma_0 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span></span>
<span id="cb1-9">sigma_1 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb1-10">sigma_2 <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span></span>
<span id="cb1-11"></span>
<span id="cb1-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># construct data:</span></span>
<span id="cb1-13">patients <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tibble</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">patient_id =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>n, </span>
<span id="cb1-14">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">patient_re =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(n, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, sigma_1),</span>
<span id="cb1-15">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">treatment_re =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(n, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, sigma_2))</span>
<span id="cb1-16"></span>
<span id="cb1-17">dat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">expand_grid</span>(patients,</span>
<span id="cb1-18">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">replicate =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span><span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">:</span>m,</span>
<span id="cb1-19">                   <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">timepoint =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pre'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'post'</span>))</span>
<span id="cb1-20"></span>
<span id="cb1-21">dat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb1-22">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">y =</span> beta_0 <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb1-23">           patient_re <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb1-24">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ifelse</span>(timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">==</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'post'</span>, treatment_re <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> beta_1, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> </span>
<span id="cb1-25">           <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">rnorm</span>(n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> m <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">*</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, sigma_0))</span>
<span id="cb1-26"></span>
<span id="cb1-27"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># make timepoint a factor to get order in plots right:</span></span>
<span id="cb1-28">dat <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> dat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb1-29">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mutate</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">timepoint =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(timepoint, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">levels =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">c</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'pre'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'post'</span>)))</span></code></pre></div>
</div>
</section>
<section id="tabular-characteristics" class="level3">
<h3 class="anchored" data-anchor-id="tabular-characteristics">Tabular characteristics</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb2" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1">dat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-2">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">group_by</span>(timepoint) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-3">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summarize</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">mean =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">mean</span>(y)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> </span>
<span id="cb2-4">  <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">kable</span>()</span></code></pre></div>
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: left;">timepoint</th>
<th style="text-align: right;">mean</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">pre</td>
<td style="text-align: right;">0.1868025</td>
</tr>
<tr class="even">
<td style="text-align: left;">post</td>
<td style="text-align: right;">1.1930561</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="visualize-data" class="level3">
<h3 class="anchored" data-anchor-id="visualize-data">Visualize data</h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span>(n <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">1e2</span>) {</span>
<span id="cb3-2">  dat <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span></span>
<span id="cb3-3">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">ggplot</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">aes</span>(timepoint, y, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">col =</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">factor</span>(patient_id))) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span></span>
<span id="cb3-4">    <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">geom_jitter</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">width =</span> <span class="fl" style="color: #AD0000;
background-color: null;
font-style: inherit;">0.1</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">height =</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">labs</span>(<span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">color =</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Patient ID'</span>)</span>
<span id="cb3-5">}</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-06-08-specifying-mixed-effects-models/2023-06-08-specifying-mixed-effects-models_files/figure-html/visualize-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="fit-model" class="level3">
<h3 class="anchored" data-anchor-id="fit-model">Fit model</h3>
<section id="linear-model" class="level4">
<h4 class="anchored" data-anchor-id="linear-model">Linear model</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb4" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># linear model to get beta_1 and beta_2 </span></span>
<span id="cb4-2">(fm_lm <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lm</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> timepoint, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dat)) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|&gt;</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">summary</span>()</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
Call:
lm(formula = y ~ timepoint, data = dat)

Residuals:
     Min       1Q   Median       3Q      Max 
-10.4127  -1.5931   0.0072   2.0727  10.4653 

Coefficients:
              Estimate Std. Error t value Pr(&gt;|t|)  
(Intercept)     0.1868     0.3489   0.535   0.5930  
timepointpost   1.0063     0.4934   2.039   0.0427 *
---
Signif. codes:  0 '***' 0.001 '**' 0.01 '*' 0.05 '.' 0.1 ' ' 1

Residual standard error: 3.489 on 198 degrees of freedom
Multiple R-squared:  0.02057,   Adjusted R-squared:  0.01563 
F-statistic: 4.159 on 1 and 198 DF,  p-value: 0.04274</code></pre>
</div>
</div>
</section>
<section id="mixed-effects-model-with-correlation-between-intercept-and-timepointpost" class="level4">
<h4 class="anchored" data-anchor-id="mixed-effects-model-with-correlation-between-intercept-and-timepointpost">Mixed effects model <strong>with</strong> correlation between <code>(Intercept)</code> and <code>timepointpost</code></h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb6" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1">(fm_lmer <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lmer</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> patient_id), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dat))</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>boundary (singular) fit: see help('isSingular')</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: y ~ timepoint + (timepoint | patient_id)
   Data: dat
REML criterion at convergence: 888.5308
Random effects:
 Groups     Name          Std.Dev. Corr 
 patient_id (Intercept)   0.3268        
            timepointpost 4.5307   -1.00
 Residual                 1.9086        
Number of obs: 200, groups:  patient_id, 20
Fixed Effects:
  (Intercept)  timepointpost  
       0.1868         1.0063  
optimizer (nloptwrap) convergence code: 0 (OK) ; 0 optimizer warnings; 1 lme4 warnings </code></pre>
</div>
</div>
</section>
<section id="mixed-effects-model-without-correlation-between-intercept-and-timepointpost" class="level4">
<h4 class="anchored" data-anchor-id="mixed-effects-model-without-correlation-between-intercept-and-timepointpost">Mixed effects model <strong>without</strong> correlation between <code>(Intercept)</code> and <code>timepointpost</code></h4>
<ul>
<li>The specifications I tried seem almost right, but not quite:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb9-1">(fm_lmer <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lmer</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">||</span> patient_id), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dat))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: y ~ timepoint + ((0 + timepoint | patient_id))
   Data: dat
REML criterion at convergence: 888.5308
Random effects:
 Groups     Name          Std.Dev. Corr 
 patient_id timepointpre  0.3268        
            timepointpost 4.2038   -1.00
 Residual                 1.9086        
Number of obs: 200, groups:  patient_id, 20
Fixed Effects:
  (Intercept)  timepointpost  
       0.1868         1.0063  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb11-1">(fm_lmer <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lmer</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> patient_id), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dat))</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: y ~ timepoint + (timepoint - 1 | patient_id)
   Data: dat
REML criterion at convergence: 888.5308
Random effects:
 Groups     Name          Std.Dev. Corr 
 patient_id timepointpre  0.3268        
            timepointpost 4.2038   -1.00
 Residual                 1.9086        
Number of obs: 200, groups:  patient_id, 20
Fixed Effects:
  (Intercept)  timepointpost  
       0.1868         1.0063  </code></pre>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1">(fm_lmer <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lmer</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> patient_id) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> patient_id), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dat))</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>boundary (singular) fit: see help('isSingular')</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: y ~ timepoint + (1 | patient_id) + (timepoint - 1 | patient_id)
   Data: dat
REML criterion at convergence: 888.5308
Random effects:
 Groups       Name          Std.Dev. Corr 
 patient_id   (Intercept)   0.0000        
 patient_id.1 timepointpre  0.3268        
              timepointpost 4.2039   -1.00
 Residual                   1.9086        
Number of obs: 200, groups:  patient_id, 20
Fixed Effects:
  (Intercept)  timepointpost  
       0.1868         1.0063  
optimizer (nloptwrap) convergence code: 0 (OK) ; 0 optimizer warnings; 1 lme4 warnings </code></pre>
</div>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1">(fm_lmer <span class="ot" style="color: #003B4F;
background-color: null;
font-style: inherit;">&lt;-</span> <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">lmer</span>(y <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">~</span> timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> patient_id) <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> (timepoint <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span> <span class="sc" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> patient_id), <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">data =</span> dat))</span></code></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>boundary (singular) fit: see help('isSingular')</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>Linear mixed model fit by REML ['lmerMod']
Formula: y ~ timepoint + (1 | patient_id) + (timepoint + 0 | patient_id)
   Data: dat
REML criterion at convergence: 888.5308
Random effects:
 Groups       Name          Std.Dev. Corr 
 patient_id   (Intercept)   0.0000        
 patient_id.1 timepointpre  0.3268        
              timepointpost 4.2039   -1.00
 Residual                   1.9086        
Number of obs: 200, groups:  patient_id, 20
Fixed Effects:
  (Intercept)  timepointpost  
       0.1868         1.0063  
optimizer (nloptwrap) convergence code: 0 (OK) ; 0 optimizer warnings; 1 lme4 warnings </code></pre>
</div>
</div>


</section>
</section>
</section>

 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-06-08-specifying-mixed-effects-models/2023-06-08-specifying-mixed-effects-models.html</guid>
  <pubDate>Wed, 07 Jun 2023 22:00:00 GMT</pubDate>
</item>
<item>
  <title>Interesting R packages</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-03-17-interesting-r-packages/2023-03-17-interesting-r-packages.html</link>
  <description><![CDATA[ 



<section id="short-notes-about-r-packages" class="level2">
<h2 class="anchored" data-anchor-id="short-notes-about-r-packages">Short notes about R packages</h2>
<ul>
<li>Flow charts in R: <a href="https://nrennie.rbind.io/blog/introducing-ggflowchart/">ggflowchart</a></li>
<li>Web scraping: <a href="https://nrennie.rbind.io/blog/web-scraping-rvest-london-marathon/">rvest</a></li>
<li>Spatial data / maps: <a href="https://nrennie.rbind.io/blog/2022-12-17-r-packages-for-visualising-spatial-data/">Recommendations from Nicola Rennie’s blog</a></li>
</ul>
</section>
<section id="check-package-names" class="level2">
<h2 class="anchored" data-anchor-id="check-package-names">Check package names</h2>
<div class="cell">
<div class="cell-output cell-output-stdout">
<pre><code>── merge ───────────────────────────────────────────────────────────────────────
Name valid: ✔
Available on CRAN: ✔ 
Available on Bioconductor: ✔
Available on GitHub:  ✔ 
Abbreviations: http://www.abbreviations.com/merge
Wikipedia: https://en.wikipedia.org/wiki/merge
Wiktionary: https://en.wiktionary.org/wiki/merge
Sentiment:???</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── track ───────────────────────────────────────────────────────────────────────
Name valid: ✔
Available on CRAN: ✖ 
Available on Bioconductor: ✔
Available on GitHub:  ✔ 
Abbreviations: http://www.abbreviations.com/track
Wikipedia: https://en.wikipedia.org/wiki/track
Wiktionary: https://en.wiktionary.org/wiki/track
Sentiment:???</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── trackChanges ────────────────────────────────────────────────────────────────
Name valid: ✔
Available on CRAN: ✔ 
Available on Bioconductor: ✔
Available on GitHub:  ✔ 
Abbreviations: http://www.abbreviations.com/track
Wikipedia: https://en.wikipedia.org/wiki/track
Wiktionary: https://en.wiktionary.org/wiki/track
Sentiment:???
Abbreviations: http://www.abbreviations.com/Changes
Wikipedia: https://en.wikipedia.org/wiki/Changes
Wiktionary: https://en.wiktionary.org/wiki/Changes
Sentiment:???
Abbreviations: http://www.abbreviations.com/trackC
Wikipedia: https://en.wikipedia.org/wiki/trackC
Wiktionary: https://en.wiktionary.org/wiki/trackC
Sentiment:???
Abbreviations: http://www.abbreviations.com/hanges
Wikipedia: https://en.wikipedia.org/wiki/hanges
Wiktionary: https://en.wiktionary.org/wiki/hanges
Sentiment:???
Abbreviations: http://www.abbreviations.com/trackChanges
Wikipedia: https://en.wikipedia.org/wiki/trackChanges
Wiktionary: https://en.wiktionary.org/wiki/trackChanges
Sentiment:???</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── trackR ──────────────────────────────────────────────────────────────────────
Name valid: ✔
Available on CRAN: ✖ 
Available on Bioconductor: ✔
Available on GitHub:  ✖ 
Abbreviations: http://www.abbreviations.com/track
Wikipedia: https://en.wikipedia.org/wiki/track
Wiktionary: https://en.wiktionary.org/wiki/track
Sentiment:???</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── collab ──────────────────────────────────────────────────────────────────────
Name valid: ✔
Available on CRAN: ✔ 
Available on Bioconductor: ✔
Available on GitHub:  ✔ 
Abbreviations: http://www.abbreviations.com/collab
Wikipedia: https://en.wikipedia.org/wiki/collab
Wiktionary: https://en.wiktionary.org/wiki/collab
Sentiment:???</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>── writeTogether ───────────────────────────────────────────────────────────────
Name valid: ✔
Available on CRAN: ✔ 
Available on Bioconductor: ✔
Available on GitHub:  ✔ 
Abbreviations: http://www.abbreviations.com/write
Wikipedia: https://en.wikipedia.org/wiki/write
Wiktionary: https://en.wiktionary.org/wiki/write
Sentiment:???
Abbreviations: http://www.abbreviations.com/Together
Wikipedia: https://en.wikipedia.org/wiki/Together
Wiktionary: https://en.wiktionary.org/wiki/Together
Sentiment:???
Abbreviations: http://www.abbreviations.com/writeT
Wikipedia: https://en.wikipedia.org/wiki/writeT
Wiktionary: https://en.wiktionary.org/wiki/writeT
Sentiment:???
Abbreviations: http://www.abbreviations.com/ogether
Wikipedia: https://en.wikipedia.org/wiki/ogether
Wiktionary: https://en.wiktionary.org/wiki/ogether
Sentiment:???
Abbreviations: http://www.abbreviations.com/writeTogether
Wikipedia: https://en.wikipedia.org/wiki/writeTogether
Wiktionary: https://en.wiktionary.org/wiki/writeTogether
Sentiment:???</code></pre>
</div>
</div>
</section>
<section id="r-packages-built-from-a-single-.rmd-file" class="level2">
<h2 class="anchored" data-anchor-id="r-packages-built-from-a-single-.rmd-file">R packages built from a single *.RMD file</h2>
<p><a href="https://github.com/ThinkR-open/fusen">Link</a></p>
</section>
<section id="interfaces-to-computer-algebra-systems-in-r" class="level2">
<h2 class="anchored" data-anchor-id="interfaces-to-computer-algebra-systems-in-r">Interfaces to computer algebra systems in R</h2>
<p>Herre, I have collected a few resources in the field of computer algebra systems that have an interface to <code>R</code>.</p>
<section id="general" class="level3">
<h3 class="anchored" data-anchor-id="general">General</h3>
<ul>
<li>CRAN task view: Section “Multi-Precision Arithmetic and Symbolic Mathematics” on <a href="https://cran.r-hub.io/web/views/NumericalMathematics.html">this</a> site</li>
<li><a href="https://blog.ephorie.de/doing-maths-symbolically-r-as-a-computer-algebra-system-cas">Blog article</a></li>
</ul>
</section>
<section id="maxima" class="level3">
<h3 class="anchored" data-anchor-id="maxima">Maxima</h3>
<ul>
<li><a href="https://rcst.github.io/rim/">Rim package</a>
<ul>
<li>extended search path according to <a href="https://techpp.com/2021/09/08/set-path-variable-in-macos-guide/">these</a> instructions</li>
<li>posted issue on rim package github site because it is still not working <a href="https://github.com/rcst/rim/issues/30">here</a></li>
<li>edited /etc/launch.d</li>
<li>added shell script /usr/bin/maxima</li>
</ul></li>
</ul>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>Maxima successfully registered as knitr engine!</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] TRUE</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>(%o1) 2</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb10" style="background: #f1f3f5;"><pre class="sourceCode maxima code-with-copy"><code class="sourceCode maxima"><span id="cb10-1">(%<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">i1</span>) <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">lambda_S</span>: <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">beta</span> * <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">psi</span>;</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(%o1) beta*psi</code></pre>
</div>
<div class="sourceCode cell-code" id="cb12" style="background: #f1f3f5;"><pre class="sourceCode maxima code-with-copy"><code class="sourceCode maxima"><span id="cb12-1">(%<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">i2</span>) <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">Lambda_S</span>: <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">integrate</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">lambda_S</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">t</span>);</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(%o2) beta*psi*t</code></pre>
</div>
<div class="sourceCode cell-code" id="cb14" style="background: #f1f3f5;"><pre class="sourceCode maxima code-with-copy"><code class="sourceCode maxima"><span id="cb14-1">(%<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">i3</span>) <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">S_S</span>: <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">exp</span>(-<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">Lambda_S</span>);</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(%o3) %e^-(beta*psi*t)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb16" style="background: #f1f3f5;"><pre class="sourceCode maxima code-with-copy"><code class="sourceCode maxima"><span id="cb16-1">(%<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">i4</span>) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assume</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">beta</span> &gt; <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>);</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(%o4) [beta &gt; 0]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb18" style="background: #f1f3f5;"><pre class="sourceCode maxima code-with-copy"><code class="sourceCode maxima"><span id="cb18-1">(%<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">i5</span>) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">assume</span>(<span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">psi</span> &gt; <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>);</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(%o5) [psi &gt; 0]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb20" style="background: #f1f3f5;"><pre class="sourceCode maxima code-with-copy"><code class="sourceCode maxima"><span id="cb20-1">(%<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">i6</span>) <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">E_S</span>: <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">integrate</span>(<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">S_S</span>, <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">t</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">inf</span>);</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(%o6) 1/(beta*psi)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb22" style="background: #f1f3f5;"><pre class="sourceCode maxima code-with-copy"><code class="sourceCode maxima"><span id="cb22-1">(%<span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">i7</span>) <span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">tex</span>(<span class="do" style="color: #5E5E5E;
background-color: null;
font-style: italic;">''</span><span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">E_S</span>);</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(%o7) false</code></pre>
</div>
</div>
</section>
<section id="ryacas" class="level3">
<h3 class="anchored" data-anchor-id="ryacas">Ryacas</h3>
<div class="cell">
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'Ryacas'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following object is masked from 'package:stats':

    integrate</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    %*%, det, diag, diag&lt;-, lower.tri, upper.tri</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 0</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "2*x^3-17*x^2+54*x-54"</code></pre>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "x ^{2} - 1"</code></pre>
</div>
</div>
</section>
</section>
<section id="flowcharts" class="level2">
<h2 class="anchored" data-anchor-id="flowcharts">Flowcharts</h2>
<p>Source: https://cran.r-project.org/web/packages/Gmisc/vignettes/Grid-based_flowcharts.html</p>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-03-17-interesting-r-packages/2023-03-17-interesting-r-packages_files/figure-html/unnamed-chunk-5-1.png" class="img-fluid" width="672"></p>
</div>
</div>


</section>

 ]]></description>
  <category>R</category>
  <guid>https://sbloggel.netlify.app/posts/2023-03-17-interesting-r-packages/2023-03-17-interesting-r-packages.html</guid>
  <pubDate>Thu, 16 Mar 2023 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Python study notes</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-03-17-python-study-notes/2023-03-17-python-study-notes.html</link>
  <description><![CDATA[ 



<section id="official-python-tutorial" class="level2">
<h2 class="anchored" data-anchor-id="official-python-tutorial">Official python tutorial</h2>
<p>This section contains my study notes on the official <a href="https://docs.python.org/3/tutorial/index.html">python tutorial</a>.</p>
<p><a href="https://peps.python.org/pep-0008/#introduction">Here</a> is a link to the PEP 8 style guide.</p>
<p>Also it might be worthwile to look at the <a href="https://docs.python.org/3/reference/index.html#reference-index">official language definition</a>.</p>
<section id="using-the-python-interpreter" class="level3">
<h3 class="anchored" data-anchor-id="using-the-python-interpreter">2. Using the <a href="https://docs.python.org/3/tutorial/interpreter.html">Python Interpreter</a></h3>
<div class="cell">
<div class="sourceCode cell-code" id="cb1" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb1-1">the_world_is_flat <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span></span>
<span id="cb1-2"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">if</span> the_world_is_flat:</span>
<span id="cb1-3">  <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"Be careful not to fall off!"</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Be careful not to fall off!</code></pre>
</div>
</div>
</section>
<section id="an-informal-introduction-to-python" class="level3">
<h3 class="anchored" data-anchor-id="an-informal-introduction-to-python">3. An Informal Introduction to Python</h3>
<p><a href="https://docs.python.org/3/tutorial/introduction.html">Source</a></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb3-1">spam <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> </span>
<span id="cb3-2">text <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"# This is not a comment because it's inside quotes."</span></span>
<span id="cb3-3">squares <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">9</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">16</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">25</span>]</span>
<span id="cb3-4">squares[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>1</code></pre>
</div>
<div class="sourceCode cell-code" id="cb5" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb5-1">squares[<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>25</code></pre>
</div>
<div class="sourceCode cell-code" id="cb7" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb7-1">squares[<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">-</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>:]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[9, 16, 25]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb9" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb9-1">squares[:]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 4, 9, 16, 25]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb11" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb11-1">squares <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">36</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">49</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">64</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">81</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">100</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 4, 9, 16, 25, 36, 49, 64, 81, 100]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb13" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb13-1">cubes <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">27</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">65</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">125</span>]  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># something's wrong here</span></span>
<span id="cb13-2"><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># the cube of 4 is 64, not 65!</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>64</code></pre>
</div>
<div class="sourceCode cell-code" id="cb15" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb15-1">cubes[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">64</span>  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># replace the wrong value</span></span>
<span id="cb15-2">cubes</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 8, 27, 64, 125]</code></pre>
</div>
<div class="sourceCode cell-code" id="cb17" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb17-1">cubes.append(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">216</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># add the cube of 6</span></span>
<span id="cb17-2">cubes.append(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">**</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)  <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># and the cube of 7</span></span>
<span id="cb17-3">cubes</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1, 8, 27, 64, 125, 216, 343]</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb19" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb19-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Fibonacci series:</span></span>
<span id="cb19-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># the sum of two elements defines the next</span></span>
<span id="cb19-3">a, b <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span></span>
<span id="cb19-4"><span class="cf" style="color: #003B4F;
background-color: null;
font-style: inherit;">while</span> a <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>:</span>
<span id="cb19-5">    <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(a)</span>
<span id="cb19-6">    a, b <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> b, a<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">+</span>b</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>0
1
1
2
3
5
8</code></pre>
</div>
</div>
</section>
<section id="data-structures" class="level3">
<h3 class="anchored" data-anchor-id="data-structures">6 Data structures</h3>
<p>4 builtin data structures: * Lists - <code>x = [1, 2, 3]</code> * Tuples - <code>x = 1, 2, 3</code> * Sets - <code>x = {1, 2, 3}</code> * Dictionaries <code>x = {'a': 1, 'b': 2, 'c': 3}</code></p>
<section id="lists" class="level4">
<h4 class="anchored" data-anchor-id="lists">Lists</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb21" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb21-1">fruits <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'apple'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'banana'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'orange'</span>]</span>
<span id="cb21-2">fruits.reverse()</span>
<span id="cb21-3">fruits</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['orange', 'banana', 'apple']</code></pre>
</div>
<div class="sourceCode cell-code" id="cb23" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb23-1">fruits[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>:]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['banana', 'apple']</code></pre>
</div>
<div class="sourceCode cell-code" id="cb25" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb25-1">fruits[:<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['orange']</code></pre>
</div>
<div class="sourceCode cell-code" id="cb27" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb27-1">fruits.append(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'kiwi'</span>)</span>
<span id="cb27-2">fruits</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['orange', 'banana', 'apple', 'kiwi']</code></pre>
</div>
</div>
</section>
<section id="tuples" class="level4">
<h4 class="anchored" data-anchor-id="tuples">Tuples</h4>
<ul>
<li>“immutable lists”</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb29-1">a <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>), <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'a'</span>, (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'Hello'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'This'</span>)</span>
<span id="cb29-2">a[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>(2, 3, 4)</code></pre>
</div>
<div class="sourceCode cell-code" id="cb31" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb31-1"><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&gt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span> <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">27</span></span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True</code></pre>
</div>
</div>
</section>
<section id="sets" class="level4">
<h4 class="anchored" data-anchor-id="sets">Sets</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb33" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb33-1">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>}</span>
<span id="cb33-2">x</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{1, 2, 3}</code></pre>
</div>
<div class="sourceCode cell-code" id="cb35" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb35-1">y <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'a'</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>}</span>
<span id="cb35-2">y</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{1, 3, 'a'}</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb37-1">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&amp;</span> y</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{1, 3}</code></pre>
</div>
<div class="sourceCode cell-code" id="cb39" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb39-1">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">|</span> y</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{1, 2, 3, 'a'}</code></pre>
</div>
<div class="sourceCode cell-code" id="cb41" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb41-1">x.add(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4</span>)</span>
<span id="cb41-2">x</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{1, 2, 3, 4}</code></pre>
</div>
<div class="sourceCode cell-code" id="cb43" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb43-1">x.update([<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">7</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>])</span>
<span id="cb43-2">x</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{0, 1, 2, 3, 4, 7}</code></pre>
</div>
</div>
</section>
<section id="dictionaries" class="level4">
<h4 class="anchored" data-anchor-id="dictionaries">Dictionaries</h4>
<div class="cell">
<div class="sourceCode cell-code" id="cb45" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb45-1">tel <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> {<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'jack'</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4098</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sape'</span>: <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4139</span>}</span>
<span id="cb45-2">tel[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'jan-eggerik'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">4898</span></span>
<span id="cb45-3">tel[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'jan-eggerik'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'a'</span></span>
<span id="cb45-4"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">'jack'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> tel</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True</code></pre>
</div>
<div class="sourceCode cell-code" id="cb47" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb47-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">'seb'</span> <span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">in</span> tel</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>False</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb49-1"><span class="kw" style="color: #003B4F;
background-color: null;
font-style: inherit;">del</span> tel[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'sape'</span>]</span>
<span id="cb49-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(tel)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['jack', 'jan-eggerik']</code></pre>
</div>
<div class="sourceCode cell-code" id="cb51" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb51-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">list</span>(tel) <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">&lt;=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'jack'</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'jan-eggerik'</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True</code></pre>
</div>
<div class="sourceCode cell-code" id="cb53" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb53-1"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">dict</span>([(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'a'</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>), (<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'b'</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>)])</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{'a': 1, 'b': 2}</code></pre>
</div>
<div class="sourceCode cell-code" id="cb55" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb55-1">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="bu" style="color: null;
background-color: null;
font-style: inherit;">dict</span>([(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'a'</span>), (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'b'</span>)])</span>
<span id="cb55-2">x[<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">2</span>]</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>'b'</code></pre>
</div>
<div class="sourceCode cell-code" id="cb57" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb57-1">x[<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'a'</span>] <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span></span>
<span id="cb57-2">x</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>{1: 'a', 2: 'b', 'a': 3}</code></pre>
</div>
<div class="sourceCode cell-code" id="cb59" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb59-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sorted(x) - this will throw an error because of mixing of str and int</span></span>
<span id="cb59-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">sorted</span>(tel)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>['jack', 'jan-eggerik']</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb61" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb61-1">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'string'</span></span>
<span id="cb61-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span>(x)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>True</code></pre>
</div>
<div class="sourceCode cell-code" id="cb63" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb63-1">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">''</span></span>
<span id="cb63-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">bool</span>(x)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>False</code></pre>
</div>
</div>
</section>
</section>
</section>
<section id="seaborn" class="level2">
<h2 class="anchored" data-anchor-id="seaborn">Seaborn</h2>
<ul>
<li><a href="https://seaborn.pydata.org/examples/index.html">Gallery</a></li>
</ul>
<div class="cell" data-fig.heihgt="10">
<div class="sourceCode cell-code" id="cb65" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb65-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> seaborn <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> sns</span>
<span id="cb65-2"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> mp</span>
<span id="cb65-3"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> matplotlib.pyplot <span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">as</span> plt</span>
<span id="cb65-4"></span>
<span id="cb65-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Apply the default theme</span></span>
<span id="cb65-6">sns.set_theme()</span>
<span id="cb65-7"></span>
<span id="cb65-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load an example dataset</span></span>
<span id="cb65-9"></span>
<span id="cb65-10"></span>
<span id="cb65-11">dots <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.load_dataset(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"dots"</span>)</span>
<span id="cb65-12"></span>
<span id="cb65-13">sns.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">set</span>(rc<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'figure.figsize'</span>:(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">10</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">3</span>)})</span>
<span id="cb65-14"></span>
<span id="cb65-15">sns.relplot(</span>
<span id="cb65-16">  data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>dots, kind<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"line"</span>,</span>
<span id="cb65-17">  x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"time"</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"firing_rate"</span>, col<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"align"</span>, <span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># style = "choice",</span></span>
<span id="cb65-18">  hue<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"choice"</span>, size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"coherence"</span>, </span>
<span id="cb65-19">  facet_kws<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">dict</span>(sharex<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">False</span>)</span>
<span id="cb65-20">  )</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-03-17-python-study-notes/2023-03-17-python-study-notes_files/figure-html/unnamed-chunk-10-1.png" class="img-fluid" width="544"></p>
</div>
<div class="sourceCode cell-code" id="cb66" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb66-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">#mp.pyplot.show()</span></span></code></pre></div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb67" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb67-1"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># sns.set_theme(style="whitegrid")</span></span>
<span id="cb67-2"></span>
<span id="cb67-3">x <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> (<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>,<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">5</span>)</span>
<span id="cb67-4"></span>
<span id="cb67-5">sns.<span class="bu" style="color: null;
background-color: null;
font-style: inherit;">set</span>(rc<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>{<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'figure.figsize'</span>: x})</span>
<span id="cb67-6"></span>
<span id="cb67-7"></span>
<span id="cb67-8"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Load the example diamonds dataset</span></span>
<span id="cb67-9">diamonds <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> sns.load_dataset(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"diamonds"</span>)</span>
<span id="cb67-10"></span>
<span id="cb67-11"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># Draw a scatter plot while assigning point colors and sizes to different</span></span>
<span id="cb67-12"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># variables in the dataset</span></span>
<span id="cb67-13">f, ax <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> plt.subplots(figsize<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>x)</span>
<span id="cb67-14">sns.despine(f, left<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>, bottom<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="va" style="color: #111111;
background-color: null;
font-style: inherit;">True</span>)</span>
<span id="cb67-15">clarity_ranking <span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span> [<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"I1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SI2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"SI1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VS2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VS1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VVS2"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"VVS1"</span>, <span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"IF"</span>]</span>
<span id="cb67-16">sns.scatterplot(x<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"carat"</span>, y<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"price"</span>,</span>
<span id="cb67-17">                hue<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"clarity"</span>, size<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"depth"</span>,</span>
<span id="cb67-18">                palette<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">"ch:r=-.2,d=.3_r"</span>,</span>
<span id="cb67-19">                hue_order<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>clarity_ranking,</span>
<span id="cb67-20">                sizes<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>(<span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">1</span>, <span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">8</span>), linewidth<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span><span class="dv" style="color: #AD0000;
background-color: null;
font-style: inherit;">0</span>,</span>
<span id="cb67-21">                data<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>diamonds, ax<span class="op" style="color: #5E5E5E;
background-color: null;
font-style: inherit;">=</span>ax)</span></code></pre></div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-03-17-python-study-notes/2023-03-17-python-study-notes_files/figure-html/unnamed-chunk-11-3.png" class="img-fluid" width="480"></p>
</div>
</div>
</section>
<section id="python-libraries-i-want-to-look-at" class="level2">
<h2 class="anchored" data-anchor-id="python-libraries-i-want-to-look-at">Python libraries I want to look at</h2>
<ul>
<li>Numpy - <a href="https://numpy.org/doc/stable/user/whatisnumpy.html">Documentation</a></li>
<li>Matplotlib - <a href="https://matplotlib.org/stable/tutorials/index.html">Tutorials</a></li>
<li>Seaborn - <a href="https://seaborn.pydata.org/tutorial.html">Tutorials</a></li>
<li>SciPy - <a href="https://docs.scipy.org/doc/scipy/tutorial/index.html">User Guide</a> -</li>
<li>SciKit-Learn - <a href="https://scikit-learn.org/stable/tutorial/index.html">Tutorials</a></li>
<li>statsmodels - <a href="https://www.statsmodels.org/stable/gettingstarted.html">Getting started</a></li>
<li>pandas - <a href="https://pandas.pydata.org/docs/getting_started/intro_tutorials/">Tutorials</a></li>
<li>pytorch and co</li>
<li>Django - <a href="https://code.visualstudio.com/docs/python/tutorial-django">Tutorial using VS Code</a></li>
<li>Plotly</li>
</ul>
</section>
<section id="python-and-quarto-issues" class="level2">
<h2 class="anchored" data-anchor-id="python-and-quarto-issues">Python and quarto issues</h2>
<ul>
<li>Figure size seems to be not adjustable by chunk options if engine is jupyter
<ul>
<li>–&gt; use knitr as engine</li>
<li>Here fig-size seems to work at least with matplotlib, other packages not tested</li>
</ul></li>
<li>With knitr as engine, I think by default the following python executable is</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb68" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb68-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">system</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'which python'</span>, <span class="at" style="color: #657422;
background-color: null;
font-style: inherit;">intern =</span> <span class="cn" style="color: #8f5902;
background-color: null;
font-style: inherit;">TRUE</span>)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "/Users/seb/Library/r-miniconda-arm64/envs/sbloggel/bin/python"</code></pre>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code" id="cb70" style="background: #f1f3f5;"><pre class="sourceCode python code-with-copy"><code class="sourceCode python"><span id="cb70-1"><span class="im" style="color: #00769E;
background-color: null;
font-style: inherit;">import</span> sys</span>
<span id="cb70-2"><span class="bu" style="color: null;
background-color: null;
font-style: inherit;">print</span>(sys.executable)</span></code></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>/Users/seb/Library/r-miniconda-arm64/envs/sbloggel/bin/python</code></pre>
</div>
</div>
<ul>
<li>In the default environment, I was able to install packages with the following command:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb72" style="background: #f1f3f5;"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb72-1"><span class="fu" style="color: #4758AB;
background-color: null;
font-style: inherit;">library</span>(<span class="st" style="color: #20794D;
background-color: null;
font-style: inherit;">'reticulate'</span>)</span>
<span id="cb72-2"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># conda_install('r-reticulate', 'matplotlib')</span></span>
<span id="cb72-3"> </span>
<span id="cb72-4"></span>
<span id="cb72-5"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># This did not work:</span></span>
<span id="cb72-6"><span class="co" style="color: #5E5E5E;
background-color: null;
font-style: inherit;"># py_install("pandas")</span></span></code></pre></div>
</div>
</section>
<section id="pandas" class="level2">
<h2 class="anchored" data-anchor-id="pandas">Pandas</h2>
<ul>
<li><a href="https://pandas.pydata.org/docs/getting_started/intro_tutorials/">Tutorials</a></li>
</ul>


</section>

 ]]></description>
  <category>Self-study</category>
  <category>Python</category>
  <guid>https://sbloggel.netlify.app/posts/2023-03-17-python-study-notes/2023-03-17-python-study-notes.html</guid>
  <pubDate>Thu, 16 Mar 2023 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Coursera Deep Learning Specialization</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-03-17-coursera-deep-learning/2023-03-17-coursera-deep-learning.html</link>
  <description><![CDATA[ 



<section id="study-questions" class="level2">
<h2 class="anchored" data-anchor-id="study-questions">Study questions</h2>
<ul>
<li>How to input images of different dimensions in a neural net?</li>
<li>I don’t quite understand yet how convolutions finally integrate more than just local information. In my understanding this can only happen efficiently in the fully connected layers then?</li>
<li>Understand cost function and understand the derivatives</li>
<li>Keras works with float32 (single float) - double is never used? Single is sufficient?</li>
<li>Read a little about Boltzmann machines</li>
</ul>
</section>
<section id="course-2-week-2" class="level2">
<h2 class="anchored" data-anchor-id="course-2-week-2">Course 2, Week 2</h2>
<section id="mini-batch-gradient-descent" class="level3">
<h3 class="anchored" data-anchor-id="mini-batch-gradient-descent">Mini-batch Gradient Descent</h3>
<ul>
<li>how do I controll this in Keras / PyTorch / whatever?</li>
<li>mini batch size = 1 -&gt; stochastic gradient descent</li>
<li>mini batch size power of 2</li>
</ul>
</section>
<section id="exponentially-moving-averages" class="level3">
<h3 class="anchored" data-anchor-id="exponentially-moving-averages">Exponentially moving averages:</h3>
<p><img src="https://latex.codecogs.com/png.latex?V_t%20=%20%5Cbeta%20V_%7Bt-1%7D%20+%20(1%20-%20%5Cbeta)%20%5Ctheta_t"> * this corresponds approximately to averaging over <img src="https://latex.codecogs.com/png.latex?%5Cfrac%7B1%7D%7B1-%5Cbeta%7D"> entries</p>
</section>
<section id="gradient-descent-with-momentum" class="level3">
<h3 class="anchored" data-anchor-id="gradient-descent-with-momentum">Gradient descent with momentum</h3>
<ul>
<li>gradients with exponentially moving average</li>
<li>if learning rate too large risk of diverging</li>
<li>local minima are not the main problem - the problem are saddle points!</li>
<li>ball on a hill: velocity is stored in the average, new gradient is the acceleration</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cbeta%20=%200.9"> averaging over approx. the last 10 iterations</li>
<li>Update rule: <img src="https://latex.codecogs.com/png.latex?%20V_%7Bdw%7D%20=%20%5Cbeta%20V_%7Bdw%7D%20+%20(1-%5Cbeta)%20dW"></li>
<li>often approximated by: <img src="https://latex.codecogs.com/png.latex?%20V_%7Bdw%7D%20=%20%5Cbeta%20V_%7Bdw%7D%20+%20dW"></li>
</ul>
</section>
<section id="root-mean-square-propagation" class="level3">
<h3 class="anchored" data-anchor-id="root-mean-square-propagation">Root Mean Square Propagation</h3>
<ul>
<li>dW is small, db is large (is this true?), here we call the hyperparameter <img src="https://latex.codecogs.com/png.latex?%5Cbeta_2">, also <img src="https://latex.codecogs.com/png.latex?%5Cepsilon%20=%2010%5E%7B-8%7D"> <img src="https://latex.codecogs.com/png.latex?%20S_%7BdW%7D%20:=%20%5Cbeta%20S_%7BdW%7D%20+%20(1%20-%20%5Cbeta)%20dW%5E2"> <img src="https://latex.codecogs.com/png.latex?%20W%20:=%20W%20-%20%5Calpha%20%5Cfrac%7BdW%7D%7B%5Csqrt%7BS_%7BdW%7D%7D%20+%20%5Cepsilon%7D"> <img src="https://latex.codecogs.com/png.latex?%20S_%7Bdb%7D%20:=%20%5Cbeta%20S_%7Bdb%7D%20+%20(1%20-%20%5Cbeta)%20db%5E2"> <img src="https://latex.codecogs.com/png.latex?%20W%20:=%20W%20-%20%5Calpha%20%5Cfrac%7Bdb%7D%7B%5Csqrt%7BS_%7Bdb%7D%7D%20+%20%5Cepsilon%7D"></li>
</ul>
</section>
<section id="adaptive-moment-estimation-optimization-algorithm-adam" class="level3">
<h3 class="anchored" data-anchor-id="adaptive-moment-estimation-optimization-algorithm-adam">Adaptive moment estimation optimization algorithm (Adam)</h3>
<p>Initiliazation: <img src="https://latex.codecogs.com/png.latex?V_%7BdW%7D%20=%200">, <img src="https://latex.codecogs.com/png.latex?S_%7BdW%7D%20=%200">, <img src="https://latex.codecogs.com/png.latex?V_%7Bdb%7D%20=%200">, <img src="https://latex.codecogs.com/png.latex?S_%7Bdb%7D%20=%200">, <img src="https://latex.codecogs.com/png.latex?%20V_%7BdW%7D%20=%20%5Cbeta_1%20V_%7BdW%7D%20+%20(1%20-%20%5Cbeta_1)%20dW"> <img src="https://latex.codecogs.com/png.latex?%20V_%7Bdb%7D%20=%20%5Cbeta_1%20V_%7Bdb%7D%20+%20(1%20-%20%5Cbeta_1)%20db"> <img src="https://latex.codecogs.com/png.latex?%20S_%7BdW%7D%20=%20%5Cbeta_2%20S_%7BdW%7D%20+%20(1%20-%20beta_2)%20dW%5E2"> <img src="https://latex.codecogs.com/png.latex?%20S_%7Bdb%7D%20=%20%5Cbeta_2%20S_%7Bdb%7D%20+%20(1%20-%20beta_2)%20db%5E2"> Typically implemented with bias correction <img src="https://latex.codecogs.com/png.latex?%20V_%7BdW%7D%5E%7Bcorrected%7D%20=%20V_%7BdW%7D%20/%20(1%20-%20%5Cbeta_1%20%5E%20t)"> <img src="https://latex.codecogs.com/png.latex?%20V_%7Bdb%7D%5E%7Bcorrected%7D%20=%20V_%7Bdb%7D%20/%20(1%20-%20%5Cbeta_1%20%5E%20t)"> <img src="https://latex.codecogs.com/png.latex?%20S_%7BdW%7D%5E%7Bcorrected%7D%20=%20S_%7BdW%7D%20/%20(1%20-%20%5Cbeta_2%20%5E%20t)"> <img src="https://latex.codecogs.com/png.latex?%20S_%7Bdb%7D%5E%7Bcorrected%7D%20=%20S_%7Bdb%7D%20/%20(1%20-%20%5Cbeta_2%20%5E%20t)"> Update rule: <img src="https://latex.codecogs.com/png.latex?w%20:=%20w%20-%20%5Calpha%20%5Cfrac%7BV_%7BdW%7D%5E%7Bcorrected%7D%7D%7B%5Csqrt%7BS%5E%7Bcorrected%7D_%7BdW%7D%7D%20+%20%5Cepsilon%7D"> <img src="https://latex.codecogs.com/png.latex?b%20:=%20b%20-%20%5Calpha%20%5Cfrac%7BV_%7Bdb%7D%5E%7Bcorrected%7D%7D%7B%5Csqrt%7BS%5E%7Bcorrected%7D_%7Bdb%7D%7D%20+%20%5Cepsilon%7D"> Hyperparameters:</p>
<ul>
<li><img src="https://latex.codecogs.com/png.latex?%5Calpha"> needs to be tuned</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cbeta_1">: usually 0.9</li>
<li><img src="https://latex.codecogs.com/png.latex?%5Cbeta_2">: usually 0.999</li>
<li>$ $:usually <img src="https://latex.codecogs.com/png.latex?10e-8"></li>
</ul>
</section>
<section id="learning-rate-decay" class="level3">
<h3 class="anchored" data-anchor-id="learning-rate-decay">Learning rate decay</h3>
<p><img src="https://latex.codecogs.com/png.latex?%20%5Calpha%20=%201%20/%20(1%20+%20%7Bdecayrate%7D%20%5Ctimes%20%7Bepochnumber%7D)%20%20%5Calpha_0"></p>
</section>
<section id="softmax-activation-function" class="level3">
<h3 class="anchored" data-anchor-id="softmax-activation-function">Softmax activation function</h3>
<p><img src="https://latex.codecogs.com/png.latex?%20a_i%20=%20%5Cfrac%7B%5Cexp%7Bz_i%7D%7D%7B%5Csum_%7Bj=1%7D%5E%7Bn%7D%7B%5Cexp%7Bz_j%7D%7D%7D"></p>
</section>
<section id="softmax-regression" class="level3">
<h3 class="anchored" data-anchor-id="softmax-regression">Softmax regression</h3>
<ul>
<li>generalization of logistic regression to <img src="https://latex.codecogs.com/png.latex?n"> classes</li>
<li>Likelihood: <img src="https://latex.codecogs.com/png.latex?%20L(%5Chat%7By%7D,%20y)%20=%20-%20%5Csum%5EC_%7Bj%20=%201%7D%20y_j%20log%20%5Chat%7By_j%7D%20"></li>
</ul>
</section>
</section>
<section id="course-3-week-2" class="level2">
<h2 class="anchored" data-anchor-id="course-3-week-2">Course 3, Week 2</h2>
<ul>
<li>Avoidable bias: discrepancy between Bayes’ error and training error</li>
</ul>
<section id="bias-and-variance-with-mismatched-data-distrubtions" class="level3">
<h3 class="anchored" data-anchor-id="bias-and-variance-with-mismatched-data-distrubtions">Bias and variance with mismatched data distrubtions</h3>
<ul>
<li>potential help: add a Training-dev set</li>
<li>training error, training-dev error, dev error</li>
<li>data mismatch problem</li>
<li>Data augmentation: when sampling only a small subset of all possible examples overfitting may occur (e. g. cars in a video game)</li>
<li>Transfer learning: example image recognition
<ul>
<li>train network to a lot of images</li>
<li>now x-rays: delete weights of the last layer of the network and retrain them (a few x-rays available for training) or all parameters of the network (a lot of x-rays available for training)</li>
</ul></li>
<li>Multitask learning - output vector, doesn’t have to be fully labeled</li>
<li>Transfer learning currently learned more frequently than multitask learning</li>
<li>Multitask learning: each class should have similar number of items</li>
</ul>
</section>
</section>
<section id="course-4" class="level2">
<h2 class="anchored" data-anchor-id="course-4">Course 4</h2>
<ul>
<li>strided and padded convolution</li>
<li>cross-correlation (without flipping) vs.&nbsp;convolution (flipping around vertical and horizontal axis) - in ML, cross-correlation is by convention also called convolution</li>
<li>convolutions over volumes (<img src="https://latex.codecogs.com/png.latex?n_c"> = number of channels) <img src="https://latex.codecogs.com/png.latex?%20n%20%5Ctimes%20n%20%5Ctimes%20n_c%20*%20f%20%5Ctimes%20f%20%5Ctimes%20n_c%20%5Crightarrow%20(n%20-%20f%20+%201)%20*%20(n%20-%20f%20+%201)%20*%20n_c%5E%7Bprime%7D"></li>
<li>prime means in the next layer</li>
</ul>
<section id="pooling" class="level3">
<h3 class="anchored" data-anchor-id="pooling">Pooling</h3>
<ul>
<li>max pooling: only hyperparameters stride, padding (usually zero) and f</li>
<li>average pooling: rarely used, very sometimes for example to collapse spatial dimension (e.g.&nbsp;7x7 with 1000 channels to 1x1 with 1000 channels)</li>
<li>no parameters to learn</li>
</ul>


</section>
</section>

 ]]></description>
  <category>Self-study</category>
  <guid>https://sbloggel.netlify.app/posts/2023-03-17-coursera-deep-learning/2023-03-17-coursera-deep-learning.html</guid>
  <pubDate>Thu, 16 Mar 2023 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Self-study: Deep Learning by Goodfellow et al.</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-03-17-goodfellow-deep-learning/2023-03-17-goodfellow-deep-learning.html</link>
  <description><![CDATA[ 



<section id="linear-algebra" class="level2">
<h2 class="anchored" data-anchor-id="linear-algebra">Linear Algebra</h2>
</section>
<section id="probability-and-information-theory" class="level2">
<h2 class="anchored" data-anchor-id="probability-and-information-theory">Probability and Information Theory</h2>
<ul>
<li>“Researchers have made compelling arguments for quantifying uncertainty using probability since at least the 1980s.”</li>
<li>Three sources of uncertainty:
<ul>
<li>Inherent stochasticity (e. g. quantum mechanics, card shuffling)</li>
<li>Incomplete observability (e. g. Monty hall problem)</li>
<li>Incomplete modeling</li>
</ul></li>
<li>Probability of used as degree of belief</li>
</ul>
<section id="random-variables-3.2" class="level3">
<h3 class="anchored" data-anchor-id="random-variables-3.2">Random variables (3.2)</h3>
<ul>
<li>notation:
<ul>
<li>random variable: plain typeface</li>
<li>values it can take with lowerscript letters</li>
<li>vector-valued: bold</li>
</ul></li>
</ul>
</section>
<section id="probability-distribution-3.3" class="level3">
<h3 class="anchored" data-anchor-id="probability-distribution-3.3">Probability distribution (3.3)</h3>
<ul>
<li>discrete variables: probability mass function (notation: usually <img src="https://latex.codecogs.com/png.latex?P">)</li>
<li>notation: <img src="https://latex.codecogs.com/png.latex?x%20%5Csim%20P(x)"></li>
</ul>
</section>
</section>
<section id="general-statistics" class="level2">
<h2 class="anchored" data-anchor-id="general-statistics">General statistics</h2>
<section id="law-of-total-probability" class="level3">
<h3 class="anchored" data-anchor-id="law-of-total-probability">Law of total probability</h3>
<p><img src="https://latex.codecogs.com/png.latex?B_n">: partition of entire sample space <img src="https://latex.codecogs.com/png.latex?%5Crightarrow%20%5Csum%20p(B_n)%20=%201"> <img src="https://latex.codecogs.com/png.latex?%0AP(A)%20=%20%5Csum_n%20P(A%20%5Ccap%20B_n)%0A"></p>
</section>
<section id="statistical-independence" class="level3">
<h3 class="anchored" data-anchor-id="statistical-independence">Statistical independence</h3>
<p><img src="https://latex.codecogs.com/png.latex?%0Ap(A%7CB)%20=%20p(A)%0A"></p>
</section>
<section id="conditional-probability" class="level3">
<h3 class="anchored" data-anchor-id="conditional-probability">Conditional probability</h3>
<p><img src="https://latex.codecogs.com/png.latex?%0AP(A%20%7C%20B)%20=%20%5Cfrac%7BA%20%5Ccap%20B%7D%7BP(B)%7D%0A"></p>
</section>
<section id="bayes-theorem" class="level3">
<h3 class="anchored" data-anchor-id="bayes-theorem">Bayes` theorem</h3>
<p><img src="https://latex.codecogs.com/png.latex?%0A%5Cbegin%7Balign%7D%0A%5Cfrac%7BP(A%7CB)%7D%7BP(B%7CA)%7D%20&amp;=%20%5Cfrac%7BP(A)%7D%7BP(B)%7D%20%5C%5C%0AP(A%7CB)%20%5Ccdot%20P(B)%20&amp;=%20P(B%7CA)%20%5Ccdot%20P(A)%0A%5Cend%7Balign%7D%0A"></p>
</section>
</section>
<section id="look-at-file-_notation.tex-in-the-corresponding-folder" class="level2">
<h2 class="anchored" data-anchor-id="look-at-file-_notation.tex-in-the-corresponding-folder">Look at file “_notation.tex” in the corresponding folder!</h2>


</section>

 ]]></description>
  <category>Self-study</category>
  <guid>https://sbloggel.netlify.app/posts/2023-03-17-goodfellow-deep-learning/2023-03-17-goodfellow-deep-learning.html</guid>
  <pubDate>Thu, 16 Mar 2023 23:00:00 GMT</pubDate>
</item>
<item>
  <title>Self-study: McElreath - Statistical Rethinking</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-03-17-mcelreath-statistical-rethinking/2023-03-17-mcelreath-statistical-rethinking.html</link>
  <description><![CDATA[ 



<section id="general-stuff" class="level2">
<h2 class="anchored" data-anchor-id="general-stuff">General stuff</h2>
<ul>
<li><a href="https://xcelab.net/rm/statistical-rethinking/">Website of the book</a></li>
<li><a href="https://www.youtube.com/playlist?list=PLDcUM9US4XdMROZ57-OIRtIK0aOynbgZN">Statistical rethinking lectures on youtube</a></li>
</ul>
</section>
<section id="lecture-1" class="level2">
<h2 class="anchored" data-anchor-id="lecture-1">Lecture 1</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-03-17-mcelreath-statistical-rethinking/2023-03-17-mcelreath-statistical-rethinking_files/figure-html/lecture_1-1.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-03-17-mcelreath-statistical-rethinking/2023-03-17-mcelreath-statistical-rethinking_files/figure-html/lecture_1-2.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-03-17-mcelreath-statistical-rethinking/2023-03-17-mcelreath-statistical-rethinking_files/figure-html/lecture_1-3.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-03-17-mcelreath-statistical-rethinking/2023-03-17-mcelreath-statistical-rethinking_files/figure-html/lecture_1-4.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-03-17-mcelreath-statistical-rethinking/2023-03-17-mcelreath-statistical-rethinking_files/figure-html/lecture_1-5.png" class="img-fluid" width="672"></p>
</div>
<div class="cell-output cell-output-stdout">
<pre><code>       posterior_2  posterior_3
 [1,] 0.000000e+00 0.000000e+00
 [2,] 8.338945e-28 8.338945e-28
 [3,] 8.470870e-25 8.470870e-25
 [4,] 4.845672e-23 4.845672e-23
 [5,] 8.535940e-22 8.535940e-22
 [6,] 7.886021e-21 7.886021e-21
 [7,] 4.843656e-20 4.843656e-20
 [8,] 2.244608e-19 2.244608e-19
 [9,] 8.463615e-19 8.463615e-19
[10,] 2.726299e-18 2.726299e-18
[11,] 7.755988e-18 7.755988e-18
[12,] 1.995488e-17 1.995488e-17
[13,] 4.725159e-17 4.725159e-17
[14,] 1.043556e-16 1.043556e-16
[15,] 2.171886e-16 2.171886e-16
[16,] 4.294773e-16 4.294773e-16
[17,] 8.122594e-16 8.122594e-16
[18,] 1.477229e-15 1.477229e-15
[19,] 2.595039e-15 2.595039e-15
[20,] 4.419889e-15 4.419889e-15
[21,] 7.321976e-15 7.321976e-15
[22,] 1.182961e-14 1.182961e-14
[23,] 1.868315e-14 1.868315e-14
[24,] 2.890305e-14 2.890305e-14
[25,] 4.387490e-14 4.387490e-14
[26,] 6.545435e-14 6.545435e-14
[27,] 9.609549e-14 9.609549e-14
[28,] 1.390063e-13 1.390063e-13
[29,] 1.983357e-13 1.983357e-13
[30,] 2.793963e-13 2.793963e-13
[31,] 3.889283e-13 3.889283e-13
[32,] 5.354101e-13 5.354101e-13
[33,] 7.294212e-13 7.294212e-13
[34,] 9.840637e-13 9.840637e-13
[35,] 1.315450e-12 1.315450e-12
[36,] 1.743265e-12 1.743265e-12
[37,] 2.291406e-12 2.291406e-12
[38,] 2.988716e-12 2.988716e-12
[39,] 3.869812e-12 3.869812e-12
[40,] 4.976027e-12 4.976027e-12
[41,] 6.356464e-12 6.356464e-12
[42,] 8.069180e-12 8.069180e-12
[43,] 1.018252e-11 1.018252e-11
[44,] 1.277658e-11 1.277658e-11
[45,] 1.594485e-11 1.594485e-11
[46,] 1.979607e-11 1.979607e-11
[47,] 2.445616e-11 2.445616e-11
[48,] 3.007052e-11 3.007052e-11
[49,] 3.680640e-11 3.680640e-11
[50,] 4.485558e-11 4.485558e-11</code></pre>
</div>
</div>
</section>
<section id="lecture-2---bayesian-inference" class="level2">
<h2 class="anchored" data-anchor-id="lecture-2---bayesian-inference">Lecture 2 - Bayesian inference</h2>
<ul>
<li>Bayesian data analysis:
<ul>
<li>For each possible explanation of the data, count all the ways data can happen.</li>
<li>Explanations with more ways to produce the data are more plausibel</li>
</ul></li>
</ul>


</section>

 ]]></description>
  <category>Self-study</category>
  <guid>https://sbloggel.netlify.app/posts/2023-03-17-mcelreath-statistical-rethinking/2023-03-17-mcelreath-statistical-rethinking.html</guid>
  <pubDate>Thu, 16 Mar 2023 23:00:00 GMT</pubDate>
</item>
<item>
  <title>How bad are bananas</title>
  <dc:creator>Sebastian Gerdes</dc:creator>
  <link>https://sbloggel.netlify.app/posts/2023-02-27-how-bad-are-bananas/2023-02-27-how-bad-are-bananas.html</link>
  <description><![CDATA[ 



<p>Recently, I have come a across a book that I find really wonderful: “How bad are bananas” by Mike Berners-Lee <span class="citation" data-cites="berners-lee_how_2020">Berners-Lee (2020)</span>.</p>
<p>I would really like to use some of the data for a school project (of course citing the source in an adequate manner). It would be nice to use the data to develop a simple footprint calculator that is available online. Explicite permission from the author to use the data from his book with appropriate inidication of the data source is pending, however, with proper citation it should be okay to use the data I figure.</p>
<section id="reading-notes" class="level2">
<h2 class="anchored" data-anchor-id="reading-notes">Reading notes</h2>
<ul>
<li>Carbon dioxide equivalent (CO<sub>2</sub>e):
<ul>
<li>amount of CO<sub>2</sub> that would have the same impact over a time of 100 years</li>
<li>Total impact in the UK
<ul>
<li>carbon dioxide 81%</li>
<li>methane 11%</li>
<li>nitrous oxide 5%</li>
<li>refrigerant and other gases 3%</li>
</ul></li>
</ul></li>
<li>Direct and indirect emissions</li>
<li>fold-width of confidence interval-like interval: approx: 10-fold</li>
<li>average footprint of a UK person: 13 tonnes per year</li>
<li>global average: 7 tonnes per year</li>
<li>A large cheeseburger (3.2 kg CO<sub>2</sub>e) corresponds to approx. 6 hours of a 5 tonne year</li>
</ul>
</section>
<section id="my-own-thoughts" class="level2">
<h2 class="anchored" data-anchor-id="my-own-thoughts">My own thoughts</h2>
<ul>
<li>Carbon responsibility should work like this:
<ul>
<li>The total CO<sub>2</sub>e emitted in the entire world should be estimated</li>
<li>The responsibilities should be attributed (algorithmically)</li>
</ul></li>
</ul>
</section>
<section id="issues" class="level2">
<h2 class="anchored" data-anchor-id="issues">Issues</h2>
<ul>
<li>Is there a German translation?</li>
<li>I should buy paper copies!</li>
<li>Maybe initiate a school-project</li>
<li>Ask for permission about the book: info@howbadarebananas.com</li>
<li>Is there a good webpage belonging to the book?</li>
<li>Shiny app for “how much time of a 5 tonne year does this correspond to?”</li>
</ul>
</section>
<section id="table" class="level2">
<h2 class="anchored" data-anchor-id="table">Table</h2>
<p>Here, I started to collect some of the data in the book and put them in a table:</p>
<div class="cell">
<div class="cell-output-display">
<table class="table table-sm table-striped small">
<colgroup>
<col style="width: 3%">
<col style="width: 96%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">CO2e</th>
<th style="text-align: left;">Item</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">0.20</td>
<td style="text-align: left;">Pint of tap water</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.03</td>
<td style="text-align: left;">spam mail picked up by filter</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.20</td>
<td style="text-align: left;">short e-mail from phone to phone</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.30</td>
<td style="text-align: left;">short e-mail from laptop to laptop</td>
</tr>
<tr class="odd">
<td style="text-align: right;">17.00</td>
<td style="text-align: left;">long email that takes 10 minutes to write and 3 minutes to read, sent from laptop to laptop</td>
</tr>
<tr class="even">
<td style="text-align: right;">26.00</td>
<td style="text-align: left;">an email that takes you 10 minutes to write, sent to 100 people, 99 of whom take 3 seconds to realise they should ignore it and on the whom reads it</td>
</tr>
<tr class="odd">
<td style="text-align: right;">0.50</td>
<td style="text-align: left;">one simple google search</td>
</tr>
<tr class="even">
<td style="text-align: right;">5.60</td>
<td style="text-align: left;">5 minutes web browsing from a smartphone</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8.20</td>
<td style="text-align: left;">5 minutes web browsing from a laptop</td>
</tr>
<tr class="even">
<td style="text-align: right;">0.80</td>
<td style="text-align: left;">single text message</td>
</tr>
<tr class="odd">
<td style="text-align: right;">3.00</td>
<td style="text-align: left;">very lightweight plastic carrier bag</td>
</tr>
<tr class="even">
<td style="text-align: right;">10.00</td>
<td style="text-align: left;">heavier supermarket bag</td>
</tr>
<tr class="odd">
<td style="text-align: right;">50.00</td>
<td style="text-align: left;">heavweight ‘bag for life’</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.00</td>
<td style="text-align: left;">Dyson Airblade</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10.00</td>
<td style="text-align: left;">one paper towel</td>
</tr>
<tr class="even">
<td style="text-align: right;">11.00</td>
<td style="text-align: left;">standard electric dryer</td>
</tr>
<tr class="odd">
<td style="text-align: right;">12.00</td>
<td style="text-align: left;">recycled and lightweight paper carrier bag</td>
</tr>
<tr class="even">
<td style="text-align: right;">80.00</td>
<td style="text-align: left;">a fashion paper bag from mainly virgin paper</td>
</tr>
<tr class="odd">
<td style="text-align: right;">8.00</td>
<td style="text-align: left;">quick expert ironing of a shirt</td>
</tr>
<tr class="even">
<td style="text-align: right;">14.00</td>
<td style="text-align: left;">average ironing</td>
</tr>
<tr class="odd">
<td style="text-align: right;">40.00</td>
<td style="text-align: left;">ironing of a thorougly crumped shirt</td>
</tr>
<tr class="even">
<td style="text-align: right;">2.00</td>
<td style="text-align: left;">one hour zoom call on 13-inch Mac-Book Pro</td>
</tr>
<tr class="odd">
<td style="text-align: right;">10.00</td>
<td style="text-align: left;">one hour zoom call on an averagely efficient laptop</td>
</tr>
<tr class="even">
<td style="text-align: right;">50.00</td>
<td style="text-align: left;">one hour zoom call on desktop computer</td>
</tr>
<tr class="odd">
<td style="text-align: right;">28.00</td>
<td style="text-align: left;">100g portion of carrots – local, in season, full-size varieties</td>
</tr>
<tr class="even">
<td style="text-align: right;">83.00</td>
<td style="text-align: left;">100g portion of carrots – local, in season, baby carrots</td>
</tr>
<tr class="odd">
<td style="text-align: right;">90.00</td>
<td style="text-align: left;">100g portion of carrots – full-size varieties, shipped within Europe</td>
</tr>
</tbody>
</table>
</div>
</div>
</section>
<section id="plots" class="level2">
<h2 class="anchored" data-anchor-id="plots">Plots</h2>
<div class="cell">
<div class="cell-output-display">
<p><img src="https://sbloggel.netlify.app/posts/2023-02-27-how-bad-are-bananas/2023-02-27-how-bad-are-bananas_files/figure-html/co2e_overview-1.png" class="img-fluid" width="672"></p>
</div>
</div>
</section>
<section id="references" class="level2">




</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-berners-lee_how_2020" class="csl-entry">
Berners-Lee, Mike. 2020. <em>How <span>Bad</span> <span>Are</span> <span>Bananas</span>?: <span>The</span> Carbon Footprint of Everything - 2020 New Edition</em>. New ed. updat. and expand. Profile Books.
</div>
</div></section></div> ]]></description>
  <category>Sustainibility</category>
  <guid>https://sbloggel.netlify.app/posts/2023-02-27-how-bad-are-bananas/2023-02-27-how-bad-are-bananas.html</guid>
  <pubDate>Sun, 26 Feb 2023 23:00:00 GMT</pubDate>
</item>
</channel>
</rss>
